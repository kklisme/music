{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { formatDate } from \"../../../common/formatDate\";\nimport { isArray } from \"../../../common/utils\";\nexport default {\n  name: \"app_Videoinfo\",\n  props: {\n    videoinfo: {\n      type: Object,\n      default() {\n        return {};\n      }\n    },\n    type: {\n      type: String\n    },\n    isSub: {\n      type: Boolean,\n      default() {\n        return false;\n      }\n    },\n    islike: {\n      type: Boolean,\n      default() {\n        return false;\n      }\n    }\n  },\n  filters: {\n    showDate(value) {\n      const date = new Date(value);\n      return formatDate(date, \"yyyy-MM-dd\");\n    }\n  },\n  computed: {\n    showAvatar() {\n      let avatar = this.type == \"mv\" ? isArray(this.videoinfo.artists) && this.videoinfo.artists[0].img1v1Url : this.videoinfo.avatarUrl;\n      return avatar;\n    }\n  },\n  methods: {\n    // 收藏视频事件\n    subMv() {\n      // 先判断登录状态\n      if (!this.$store.state.isLogin) {\n        this.$message({\n          type: \"warning\",\n          message: \"登录后才能收藏\",\n          showClose: true,\n          center: true\n        });\n        return;\n      }\n      this.$emit(\"subMvBy\");\n    },\n    // 点赞视频\n    likeVideo() {\n      // 先判断登录状态\n      if (!this.$store.state.isLogin) {\n        this.$message({\n          type: \"warning\",\n          message: \"登录后才能点赞\",\n          showClose: true,\n          center: true\n        });\n        return;\n      }\n      this.$emit(\"likeVideoBy\");\n    },\n    toUserDetail() {\n      this.$router.push(\"/userdetail/\" + this.videoinfo.creator.userId);\n    },\n    toSingerDetail() {\n      this.$router.push(\"/singerdetail/\" + this.videoinfo.artistId);\n    }\n  }\n};","map":{"version":3,"names":["formatDate","isArray","name","props","videoinfo","type","Object","default","String","isSub","Boolean","islike","filters","showDate","value","date","Date","computed","showAvatar","avatar","artists","img1v1Url","avatarUrl","methods","subMv","$store","state","isLogin","$message","message","showClose","center","$emit","likeVideo","toUserDetail","$router","push","creator","userId","toSingerDetail","artistId"],"sources":["src/views/videodetail/Childcomps/Videoinfo.vue"],"sourcesContent":["<template>\n\t<div class=\"video-info\">\n\t\t<!-- 作者 -->\n\t\t<div class=\"auther\">\n\t\t\t<div class=\"block\">\n\t\t\t\t<img :src=\"showAvatar\" />\n\t\t\t</div>\n\t\t\t<span v-if=\"type == 'mv'\" @click=\"toSingerDetail\">{{ videoinfo.artistName }}</span>\n\t\t\t<span v-if=\"videoinfo.creator\" @click=\"toUserDetail\">{{ videoinfo.creator.nickname }}</span>\n\t\t</div>\n\t\t<!-- 标题 -->\n\t\t<div class=\"title\">\n\t\t\t<h2>{{ videoinfo.name || videoinfo.title }}</h2>\n\t\t</div>\n\t\t<div class=\"desc\" v-if=\"videoinfo.description\">\n\t\t\t{{ videoinfo.description }}\n\t\t</div>\n\t\t<!-- 时间 -->\n\t\t<div class=\"time\">\n\t\t\t<span>发布：{{ videoinfo.publishTime | showDate }}</span>\n\t\t\t<span>播放：{{ videoinfo.playCount || videoinfo.playTime | formatNum }}</span>\n\t\t</div>\n\t\t<!-- 相关操作 -->\n\t\t<div class=\"opreation\">\n\t\t\t<el-button class=\"iconfont icon-dianzan\" :type=\"islike ? 'primary' : 'default'\" @click=\"likeVideo\">{{ islike ? \"已赞\" : \"点赞\" }}</el-button>\n\t\t\t<el-button :icon=\"isSub ? 'el-icon-folder-checked' : 'el-icon-folder-add'\" :type=\"isSub ? 'primary' : 'default'\" @click=\"subMv\">{{ isSub ? \"已收藏\" : \"收藏\" }}</el-button>\n\t\t\t<el-button icon=\"el-icon-share\">分享</el-button>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { formatDate } from \"../../../common/formatDate\";\nimport { isArray } from \"../../../common/utils\";\nexport default {\n\tname: \"app_Videoinfo\",\n\tprops: {\n\t\tvideoinfo: {\n\t\t\ttype: Object,\n\t\t\tdefault() {\n\t\t\t\treturn {};\n\t\t\t},\n\t\t},\n\t\ttype: {\n\t\t\ttype: String,\n\t\t},\n\t\tisSub: {\n\t\t\ttype: Boolean,\n\t\t\tdefault() {\n\t\t\t\treturn false;\n\t\t\t},\n\t\t},\n\t\tislike: {\n\t\t\ttype: Boolean,\n\t\t\tdefault() {\n\t\t\t\treturn false;\n\t\t\t},\n\t\t},\n\t},\n\tfilters: {\n\t\tshowDate(value) {\n\t\t\tconst date = new Date(value);\n\t\t\treturn formatDate(date, \"yyyy-MM-dd\");\n\t\t},\n\t},\n\tcomputed: {\n\t\tshowAvatar() {\n\t\t\tlet avatar = this.type == \"mv\" ? isArray(this.videoinfo.artists) && this.videoinfo.artists[0].img1v1Url : this.videoinfo.avatarUrl;\n\t\t\treturn avatar;\n\t\t},\n\t},\n\n\tmethods: {\n\t\t// 收藏视频事件\n\t\tsubMv() {\n\t\t\t// 先判断登录状态\n\t\t\tif (!this.$store.state.isLogin) {\n\t\t\t\tthis.$message({\n\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\tmessage: \"登录后才能收藏\",\n\t\t\t\t\tshowClose: true,\n\t\t\t\t\tcenter: true,\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.$emit(\"subMvBy\");\n\t\t},\n\t\t// 点赞视频\n\t\tlikeVideo() {\n\t\t\t// 先判断登录状态\n\t\t\tif (!this.$store.state.isLogin) {\n\t\t\t\tthis.$message({\n\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\tmessage: \"登录后才能点赞\",\n\t\t\t\t\tshowClose: true,\n\t\t\t\t\tcenter: true,\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.$emit(\"likeVideoBy\");\n\t\t},\n\n\t\ttoUserDetail() {\n\t\t\tthis.$router.push(\"/userdetail/\" + this.videoinfo.creator.userId);\n\t\t},\n\t\ttoSingerDetail() {\n\t\t\tthis.$router.push(\"/singerdetail/\" + this.videoinfo.artistId);\n\t\t},\n\t},\n};\n</script>\n\n<style lang=\"less\" scoped>\n.video-info {\n\t.auther {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tpadding-top: 15px;\n\t\tcolor: #5091ca;\n\t\tspan {\n\t\t\tpadding-left: 10px;\n\t\t\tcursor: pointer;\n\t\t}\n\t\t.block {\n\t\t\twidth: 50px;\n\t\t\theight: 50px;\n\t\t\timg {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t\tborder-radius: 50%;\n\t\t\t}\n\t\t}\n\t}\n\t.title {\n\t\tpadding-top: 25px;\n\t}\n\t.desc {\n\t\tpadding-top: 10px;\n\t\tcolor: #909399;\n\t}\n\t.time {\n\t\tpadding-top: 10px;\n\t\tcolor: #909399;\n\t\tspan {\n\t\t\tpadding-right: 15px;\n\t\t}\n\t}\n\t.opreation {\n\t\tpadding-top: 15px;\n\t}\n}\n.sub {\n\tbackground: var(--themeColor);\n\tcolor: #fff;\n}\n</style>\n"],"mappings":";AAgCA,SAAAA,UAAA;AACA,SAAAC,OAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACAC,SAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,QAAA;QACA;MACA;IACA;IACAF,IAAA;MACAA,IAAA,EAAAG;IACA;IACAC,KAAA;MACAJ,IAAA,EAAAK,OAAA;MACAH,QAAA;QACA;MACA;IACA;IACAI,MAAA;MACAN,IAAA,EAAAK,OAAA;MACAH,QAAA;QACA;MACA;IACA;EACA;EACAK,OAAA;IACAC,SAAAC,KAAA;MACA,MAAAC,IAAA,OAAAC,IAAA,CAAAF,KAAA;MACA,OAAAd,UAAA,CAAAe,IAAA;IACA;EACA;EACAE,QAAA;IACAC,WAAA;MACA,IAAAC,MAAA,QAAAd,IAAA,WAAAJ,OAAA,MAAAG,SAAA,CAAAgB,OAAA,UAAAhB,SAAA,CAAAgB,OAAA,IAAAC,SAAA,QAAAjB,SAAA,CAAAkB,SAAA;MACA,OAAAH,MAAA;IACA;EACA;EAEAI,OAAA;IACA;IACAC,MAAA;MACA;MACA,UAAAC,MAAA,CAAAC,KAAA,CAAAC,OAAA;QACA,KAAAC,QAAA;UACAvB,IAAA;UACAwB,OAAA;UACAC,SAAA;UACAC,MAAA;QACA;QACA;MACA;MACA,KAAAC,KAAA;IACA;IACA;IACAC,UAAA;MACA;MACA,UAAAR,MAAA,CAAAC,KAAA,CAAAC,OAAA;QACA,KAAAC,QAAA;UACAvB,IAAA;UACAwB,OAAA;UACAC,SAAA;UACAC,MAAA;QACA;QACA;MACA;MACA,KAAAC,KAAA;IACA;IAEAE,aAAA;MACA,KAAAC,OAAA,CAAAC,IAAA,uBAAAhC,SAAA,CAAAiC,OAAA,CAAAC,MAAA;IACA;IACAC,eAAA;MACA,KAAAJ,OAAA,CAAAC,IAAA,yBAAAhC,SAAA,CAAAoC,QAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}