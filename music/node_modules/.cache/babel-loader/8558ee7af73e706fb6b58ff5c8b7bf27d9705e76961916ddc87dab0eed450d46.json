{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { getSongUrl } from \"../../../../../network/playmusic/playmusic.js\";\nimport { getEverySongDetail } from \"../../../../../network/songlistdetail/songlistdetail\";\nexport default {\n  name: \"app_Banner\",\n  props: {\n    banner: {\n      type: Array,\n      default() {\n        return [];\n      }\n    }\n  },\n  methods: {\n    playMusic(item) {\n      if (item.targetId == 0) return;\n      if (item.targetType == 1 || item.typeTitle == 300) {\n        // 获取歌曲url\n        getSongUrl(item.targetId).then(res => {\n          this.$store.dispatch(\"saveSongUrl\", res.data.data[0].url);\n        }).catch(err => err);\n        /* 根据歌曲id获取每首歌的信息*/\n        getEverySongDetail(item.targetId).then(res => {\n          // 提交vuex保存当前歌曲详情\n          this.$store.dispatch(\"saveSongDetail\", res.data.songs[0]);\n          // 提交vuex添加到播放列表\n          this.$store.dispatch(\"addPlayinglist\", res.data.songs[0]);\n        }).catch(err => err);\n      } else if (item.targetType == 1000) {\n        this.$router.push(\"/songlistdetail/\" + item.targetId);\n      } else if (item.targetType == 10) {\n        this.$router.push(\"/albumdetail/\" + item.targetId);\n      }\n    }\n  }\n};","map":{"version":3,"names":["getSongUrl","getEverySongDetail","name","props","banner","type","Array","default","methods","playMusic","item","targetId","targetType","typeTitle","then","res","$store","dispatch","data","url","catch","err","songs","$router","push"],"sources":["src/views/findmusic/discover/Childcomps/Banner.vue"],"sourcesContent":["<template>\n\t<div class=\"banner\" v-if=\"banner.length !== 0\">\n\t\t<el-carousel :interval=\"4000\" type=\"card\" height=\"220px\">\n\t\t\t<el-carousel-item v-for=\"(item, index) in banner\" :key=\"index\">\n\t\t\t\t<img :src=\"item.imageUrl\" @click=\"playMusic(item)\" />\n\t\t\t\t<div class=\"title\">{{ item.typeTitle }}</div>\n\t\t\t</el-carousel-item>\n\t\t</el-carousel>\n\t</div>\n</template>\n\n<script>\nimport { getSongUrl } from \"../../../../../network/playmusic/playmusic.js\";\nimport { getEverySongDetail } from \"../../../../../network/songlistdetail/songlistdetail\";\nexport default {\n\tname: \"app_Banner\",\n\tprops: {\n\t\tbanner: {\n\t\t\ttype: Array,\n\t\t\tdefault() {\n\t\t\t\treturn [];\n\t\t\t},\n\t\t},\n\t},\n\tmethods: {\n\t\tplayMusic(item) {\n\t\t\tif (item.targetId == 0) return;\n\t\t\tif (item.targetType == 1 || item.typeTitle == 300) {\n\t\t\t\t// 获取歌曲url\n\t\t\t\tgetSongUrl(item.targetId)\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tthis.$store.dispatch(\"saveSongUrl\", res.data.data[0].url);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => err);\n\t\t\t\t/* 根据歌曲id获取每首歌的信息*/\n\t\t\t\tgetEverySongDetail(item.targetId)\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t// 提交vuex保存当前歌曲详情\n\t\t\t\t\t\tthis.$store.dispatch(\"saveSongDetail\", res.data.songs[0]);\n\t\t\t\t\t\t// 提交vuex添加到播放列表\n\t\t\t\t\t\tthis.$store.dispatch(\"addPlayinglist\", res.data.songs[0]);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => err);\n\t\t\t} else if (item.targetType == 1000) {\n\t\t\t\tthis.$router.push(\"/songlistdetail/\" + item.targetId);\n\t\t\t} else if (item.targetType == 10) {\n\t\t\t\tthis.$router.push(\"/albumdetail/\" + item.targetId);\n\t\t\t}\n\t\t},\n\t},\n};\n</script>\n\n<style lang=\"less\" scoped>\n.banner {\n\tposition: relative;\n\timg {\n\t\twidth: 100%;\n\t}\n}\n.title {\n\tposition: absolute;\n\tright: 0;\n\tbottom: 0;\n\tpadding: 3px 8px;\n\tcolor: #fff;\n\tfont-size: 12px;\n\tbackground: var(--themeColor);\n}\n</style>\n"],"mappings":";AAYA,SAAAA,UAAA;AACA,SAAAC,kBAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACAC,MAAA;MACAC,IAAA,EAAAC,KAAA;MACAC,QAAA;QACA;MACA;IACA;EACA;EACAC,OAAA;IACAC,UAAAC,IAAA;MACA,IAAAA,IAAA,CAAAC,QAAA;MACA,IAAAD,IAAA,CAAAE,UAAA,SAAAF,IAAA,CAAAG,SAAA;QACA;QACAb,UAAA,CAAAU,IAAA,CAAAC,QAAA,EACAG,IAAA,CAAAC,GAAA;UACA,KAAAC,MAAA,CAAAC,QAAA,gBAAAF,GAAA,CAAAG,IAAA,CAAAA,IAAA,IAAAC,GAAA;QACA,GACAC,KAAA,CAAAC,GAAA,IAAAA,GAAA;QACA;QACApB,kBAAA,CAAAS,IAAA,CAAAC,QAAA,EACAG,IAAA,CAAAC,GAAA;UACA;UACA,KAAAC,MAAA,CAAAC,QAAA,mBAAAF,GAAA,CAAAG,IAAA,CAAAI,KAAA;UACA;UACA,KAAAN,MAAA,CAAAC,QAAA,mBAAAF,GAAA,CAAAG,IAAA,CAAAI,KAAA;QACA,GACAF,KAAA,CAAAC,GAAA,IAAAA,GAAA;MACA,WAAAX,IAAA,CAAAE,UAAA;QACA,KAAAW,OAAA,CAAAC,IAAA,sBAAAd,IAAA,CAAAC,QAAA;MACA,WAAAD,IAAA,CAAAE,UAAA;QACA,KAAAW,OAAA,CAAAC,IAAA,mBAAAd,IAAA,CAAAC,QAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}