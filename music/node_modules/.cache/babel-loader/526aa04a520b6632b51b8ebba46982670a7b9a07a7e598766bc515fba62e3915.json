{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { formatDate } from \"../../../common/formatDate\";\nexport default {\n  name: \"app_Topdesc\",\n  props: {\n    playlist: {\n      type: Object,\n      default() {\n        return {};\n      }\n    },\n    isSub: {\n      type: Boolean,\n      default() {\n        return false;\n      }\n    }\n  },\n  data() {\n    return {};\n  },\n  computed: {\n    cover() {\n      return this.playlist.coverImgUrl + \"?param=200y200\";\n    }\n  },\n  filters: {\n    showDate(value) {\n      const date = new Date(value);\n      return formatDate(date, \"yyyy-MM-dd\");\n    }\n  },\n  methods: {\n    // 播放所有歌曲\n    playAll() {\n      this.$emit(\"playAllSong\");\n    },\n    // 收藏歌单\n    subSongList() {\n      // 先判断登录状态\n      if (!this.$store.state.isLogin) {\n        this.$message({\n          type: \"warning\",\n          message: \"登录后才能收藏\",\n          showClose: true,\n          center: true\n        });\n        return;\n      }\n      this.$emit(\"subSongListBy\");\n    },\n    // 去往歌单创建者主页\n    toUserDetail() {\n      this.$router.push(\"/userdetail/\" + this.playlist.creator.userId);\n    }\n  }\n};","map":{"version":3,"names":["formatDate","name","props","playlist","type","Object","default","isSub","Boolean","data","computed","cover","coverImgUrl","filters","showDate","value","date","Date","methods","playAll","$emit","subSongList","$store","state","isLogin","$message","message","showClose","center","toUserDetail","$router","push","creator","userId"],"sources":["src/views/songlistdetail/Childcomps/Topdesc.vue"],"sourcesContent":["<template>\n\t<div class=\"top-desc\" v-if=\"Object.keys(playlist).length !== 0\">\n\t\t<!-- 左侧图片 -->\n\t\t<div class=\"left-img\">\n\t\t\t<img v-lazy=\"cover\" alt=\"\" />\n\t\t</div>\n\t\t<!-- 右侧描述 -->\n\t\t<div class=\"right-desc\">\n\t\t\t<!-- 歌单标题 -->\n\t\t\t<div class=\"title\">\n\t\t\t\t<el-tag effect=\"plain\" class=\"stag\">歌单</el-tag>\n\t\t\t\t<h2>{{ playlist.name }}</h2>\n\t\t\t</div>\n\t\t\t<!-- 歌单创建者信息 -->\n\t\t\t<div class=\"creator-info\">\n\t\t\t\t<!-- 头像 -->\n\t\t\t\t<div class=\"avatar\" @click=\"toUserDetail\">\n\t\t\t\t\t<img v-lazy=\"playlist.creator.avatarUrl + '?param=80y80'\" alt=\"\" />\n\t\t\t\t</div>\n\t\t\t\t<!-- 名字 -->\n\t\t\t\t<div class=\"uname\" @click=\"toUserDetail\">\n\t\t\t\t\t<span>{{ playlist.creator.nickname }}</span>\n\t\t\t\t</div>\n\t\t\t\t<!-- 创建时间 -->\n\t\t\t\t<div class=\"creat-time\">\n\t\t\t\t\t<p v-if=\"playlist.createTime && !playlist.ToplistType\">创建时间：{{ playlist.createTime | showDate }}</p>\n\t\t\t\t\t<p v-if=\"playlist.ToplistType && playlist.trackUpdateTime\">最近更新时间：{{ playlist.trackUpdateTime | showDate }}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<!-- 相关操作 -->\n\t\t\t<div class=\"operation\">\n\t\t\t\t<el-button type=\"primary\" icon=\"el-icon-video-play\" @click=\"playAll\">播放全部</el-button>\n\t\t\t\t<el-button\n\t\t\t\t\tv-if=\"$store.state.userInfo == null || ($store.state.userInfo.userId && playlist.creator.userId != $store.state.userInfo.userId)\"\n\t\t\t\t\t:icon=\"isSub ? 'el-icon-folder-checked' : 'el-icon-folder-add'\"\n\t\t\t\t\t:type=\"isSub ? 'primary' : 'default'\"\n\t\t\t\t\t@click=\"subSongList\"\n\t\t\t\t\t><span>{{ isSub ? \"已收藏\" : \"收藏\" }}</span>\n\t\t\t\t</el-button>\n\t\t\t\t<el-button icon=\"el-icon-share\">分享({{ playlist.shareCount | formatNum }})</el-button>\n\t\t\t</div>\n\t\t\t<!-- 歌单标签 -->\n\t\t\t<div class=\"tags\" v-if=\"playlist.tags.length !== 0\">\n\t\t\t\t<span>标签：</span>\n\t\t\t\t<span v-for=\"(item, index) in playlist.tags\" :key=\"index\" class=\"tags-item\">\n\t\t\t\t\t<el-tag effect=\"plain\" size=\"small\">{{ item }}</el-tag>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<!-- 歌曲数量 歌单播放量 -->\n\t\t\t<div class=\"song-count\">\n\t\t\t\t<span>歌曲：{{ playlist.trackIds.length }}首</span>\n\t\t\t\t<span>播放：{{ playlist.playCount | formatNum }}次</span>\n\t\t\t</div>\n\t\t\t<!-- 歌单简介 -->\n\t\t\t<div class=\"desc-info\">\n\t\t\t\t<span v-if=\"playlist.description\">简介：{{ playlist.description }}</span>\n\t\t\t\t<span v-else>简介：暂无简介</span>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n<script>\nimport { formatDate } from \"../../../common/formatDate\";\nexport default {\n\tname: \"app_Topdesc\",\n\tprops: {\n\t\tplaylist: {\n\t\t\ttype: Object,\n\t\t\tdefault() {\n\t\t\t\treturn {};\n\t\t\t},\n\t\t},\n\t\tisSub: {\n\t\t\ttype: Boolean,\n\t\t\tdefault() {\n\t\t\t\treturn false;\n\t\t\t},\n\t\t},\n\t},\n\tdata() {\n\t\treturn {};\n\t},\n\tcomputed: {\n\t\tcover() {\n\t\t\treturn this.playlist.coverImgUrl + \"?param=200y200\";\n\t\t},\n\t},\n\tfilters: {\n\t\tshowDate(value) {\n\t\t\tconst date = new Date(value);\n\t\t\treturn formatDate(date, \"yyyy-MM-dd\");\n\t\t},\n\t},\n\tmethods: {\n\t\t// 播放所有歌曲\n\t\tplayAll() {\n\t\t\tthis.$emit(\"playAllSong\");\n\t\t},\n\t\t// 收藏歌单\n\t\tsubSongList() {\n\t\t\t// 先判断登录状态\n\t\t\tif (!this.$store.state.isLogin) {\n\t\t\t\tthis.$message({\n\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\tmessage: \"登录后才能收藏\",\n\t\t\t\t\tshowClose: true,\n\t\t\t\t\tcenter: true,\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.$emit(\"subSongListBy\");\n\t\t},\n\t\t// 去往歌单创建者主页\n\t\ttoUserDetail() {\n\t\t\tthis.$router.push(\"/userdetail/\" + this.playlist.creator.userId);\n\t\t},\n\t},\n};\n</script>\n\n<style lang=\"less\" scoped>\n.top-desc {\n\tdisplay: flex;\n\talign-items: center;\n\t.left-img {\n\t\tflex: 1;\n\t\theight: 100%;\n\t\timg {\n\t\t\twidth: 100%;\n\t\t}\n\t}\n\t.right-desc {\n\t\tflex: 4;\n\t\tpadding-left: 15px;\n\t\t.title {\n\t\t\tdisplay: flex;\n\t\t\t.stag {\n\t\t\t\theight: 30px;\n\t\t\t\tfont-size: 16px;\n\t\t\t\tfont-weight: 700;\n\t\t\t}\n\t\t\th2 {\n\t\t\t\tpadding-left: 15px;\n\t\t\t\tfont-size: 22px;\n\t\t\t}\n\t\t}\n\n\t\t.creator-info {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tmargin-top: 8px;\n\t\t\t.avatar {\n\t\t\t\twidth: 6%;\n\t\t\t\timg {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tborder-radius: 50%;\n\t\t\t\t\tvertical-align: middle;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.uname {\n\t\t\t\tfont-size: 16px;\n\t\t\t\tpadding-left: 10px;\n\t\t\t\tcursor: pointer;\n\t\t\t\tcolor: #5091ca;\n\t\t\t}\n\t\t\t.creat-time {\n\t\t\t\tpadding-left: 15px;\n\t\t\t}\n\t\t}\n\n\t\t.operation {\n\t\t\tmargin-top: 8px;\n\t\t}\n\n\t\t.tags {\n\t\t\tmargin-top: 8px;\n\t\t\tfont-size: 16px;\n\t\t\t.tags-item {\n\t\t\t\tfont-size: 14px;\n\t\t\t\tpadding-right: 5px;\n\t\t\t}\n\t\t}\n\n\t\t.song-count {\n\t\t\tmargin-top: 8px;\n\t\t\tfont-size: 16px;\n\t\t\tspan {\n\t\t\t\tpadding-right: 15px;\n\t\t\t}\n\t\t}\n\n\t\t.desc-info {\n\t\t\tfont-size: 16px;\n\t\t\tmargin-top: 8px;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t\tdisplay: -webkit-box;\n\t\t\t-webkit-line-clamp: 2;\n\t\t\t-webkit-box-orient: vertical;\n\t\t}\n\t}\n}\n</style>\n"],"mappings":";AA8DA,SAAAA,UAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACAC,QAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,QAAA;QACA;MACA;IACA;IACAC,KAAA;MACAH,IAAA,EAAAI,OAAA;MACAF,QAAA;QACA;MACA;IACA;EACA;EACAG,KAAA;IACA;EACA;EACAC,QAAA;IACAC,MAAA;MACA,YAAAR,QAAA,CAAAS,WAAA;IACA;EACA;EACAC,OAAA;IACAC,SAAAC,KAAA;MACA,MAAAC,IAAA,OAAAC,IAAA,CAAAF,KAAA;MACA,OAAAf,UAAA,CAAAgB,IAAA;IACA;EACA;EACAE,OAAA;IACA;IACAC,QAAA;MACA,KAAAC,KAAA;IACA;IACA;IACAC,YAAA;MACA;MACA,UAAAC,MAAA,CAAAC,KAAA,CAAAC,OAAA;QACA,KAAAC,QAAA;UACArB,IAAA;UACAsB,OAAA;UACAC,SAAA;UACAC,MAAA;QACA;QACA;MACA;MACA,KAAAR,KAAA;IACA;IACA;IACAS,aAAA;MACA,KAAAC,OAAA,CAAAC,IAAA,uBAAA5B,QAAA,CAAA6B,OAAA,CAAAC,MAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}