{"ast":null,"code":"import { getRecSongs } from \"../../../network/receveryday/receveryday\";\nimport { getSongUrl } from \"../../../network/playmusic/playmusic.js\";\nimport SongTable from \"../../components/content/SongTable.vue\";\nexport default {\n  name: \"RecEveryDay\",\n  components: {\n    SongTable\n  },\n  data() {\n    return {\n      recsongs: []\n    };\n  },\n  computed: {\n    getNowDate() {\n      // 创建日期对象\n      var date = new Date();\n      var dates = date.getDate(); //返回的是几号\n      return dates;\n    },\n    getNowDay() {\n      // 创建日期对象\n      var date = new Date();\n      var day = date.getDay(); // 返回的是0-6，其中0代表星期日\n      // 将星期一到星期日存放到数组中 通过返回的数字当做索引号 取出对应的星期几 其中0代表星期日 所以放在第一个位置\n      var arr = [\"星期日\", \"星期一\", \"星期二\", \"星期三\", \"星期四\", \"星期五\", \"星期六\"];\n      return arr[day];\n    }\n  },\n  created() {\n    if (!this.$store.state.isLogin) {\n      this.$message({\n        type: \"warning\",\n        message: \"登录后才能查看\",\n        showClose: true,\n        center: true\n      });\n      return;\n    }\n    // 获取每日推荐歌曲\n    getRecSongs().then(res => {\n      this.recsongs = res.data.data.dailySongs;\n    });\n  },\n  methods: {\n    playAll() {\n      this.$store.dispatch(\"addAllSong\", this.recsongs);\n      //默认播放第一首歌\n      getSongUrl(this.recsongs[0].id).then(res => {\n        this.$store.dispatch(\"saveSongUrl\", res.data.data[0].url);\n      });\n      //提交vuex保存当前歌曲详情\n      this.$store.dispatch(\"saveSongDetail\", this.recsongs[0]);\n    }\n  },\n  activated() {\n    document.querySelector(\".view\").scrollTop = 0;\n  }\n};","map":{"version":3,"names":["getRecSongs","getSongUrl","SongTable","name","components","data","recsongs","computed","getNowDate","date","Date","dates","getDate","getNowDay","day","getDay","arr","created","$store","state","isLogin","$message","type","message","showClose","center","then","res","dailySongs","methods","playAll","dispatch","id","url","activated","document","querySelector","scrollTop"],"sources":["src/views/receveryday/RecEveryDay.vue"],"sourcesContent":["<template>\n\t<div class=\"rec-everyday w\">\n\t\t<div class=\"logined\" v-if=\"$store.state.isLogin\">\n\t\t\t<div class=\"hd\">\n\t\t\t\t<div class=\"nowdata\">\n\t\t\t\t\t<div class=\"left-date\">\n\t\t\t\t\t\t<p>{{ getNowDay }}</p>\n\t\t\t\t\t\t<div class=\"nowday\">{{ getNowDate }}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"right-text\">\n\t\t\t\t\t\t<h2>每日歌曲推荐</h2>\n\t\t\t\t\t\t<div>根据你的音乐口味生成，每天6:00更新</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"btn\">\n\t\t\t\t\t<el-button type=\"primary\" icon=\"el-icon-video-play\" @click=\"playAll\">播放全部</el-button>\n\t\t\t\t\t<el-button icon=\"el-icon-folder-add\">收藏全部</el-button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"bd\">\n\t\t\t\t<SongTable :songs=\"recsongs\" />\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"nologin\" v-else>\n\t\t\t<el-empty description=\"登录后才能查看\" :image-size=\"200\"></el-empty>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { getRecSongs } from \"../../../network/receveryday/receveryday\";\nimport { getSongUrl } from \"../../../network/playmusic/playmusic.js\";\nimport SongTable from \"../../components/content/SongTable.vue\";\nexport default {\n\tname: \"RecEveryDay\",\n\tcomponents: { SongTable },\n\tdata() {\n\t\treturn {\n\t\t\trecsongs: [],\n\t\t};\n\t},\n\tcomputed: {\n\t\tgetNowDate() {\n\t\t\t// 创建日期对象\n\t\t\tvar date = new Date();\n\t\t\tvar dates = date.getDate(); //返回的是几号\n\t\t\treturn dates;\n\t\t},\n\t\tgetNowDay() {\n\t\t\t// 创建日期对象\n\t\t\tvar date = new Date();\n\t\t\tvar day = date.getDay(); // 返回的是0-6，其中0代表星期日\n\t\t\t// 将星期一到星期日存放到数组中 通过返回的数字当做索引号 取出对应的星期几 其中0代表星期日 所以放在第一个位置\n\t\t\tvar arr = [\"星期日\", \"星期一\", \"星期二\", \"星期三\", \"星期四\", \"星期五\", \"星期六\"];\n\t\t\treturn arr[day];\n\t\t},\n\t},\n\tcreated() {\n\t\tif (!this.$store.state.isLogin) {\n\t\t\tthis.$message({\n\t\t\t\ttype: \"warning\",\n\t\t\t\tmessage: \"登录后才能查看\",\n\t\t\t\tshowClose: true,\n\t\t\t\tcenter: true,\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\t// 获取每日推荐歌曲\n\t\tgetRecSongs().then(res => {\n\t\t\tthis.recsongs = res.data.data.dailySongs;\n\t\t});\n\t},\n\tmethods: {\n\t\tplayAll() {\n\t\t\tthis.$store.dispatch(\"addAllSong\", this.recsongs);\n\t\t\t//默认播放第一首歌\n\t\t\tgetSongUrl(this.recsongs[0].id).then(res => {\n\t\t\t\tthis.$store.dispatch(\"saveSongUrl\", res.data.data[0].url);\n\t\t\t});\n\t\t\t//提交vuex保存当前歌曲详情\n\t\t\tthis.$store.dispatch(\"saveSongDetail\", this.recsongs[0]);\n\t\t},\n\t},\n\tactivated() {\n\t\tdocument.querySelector(\".view\").scrollTop = 0;\n\t},\n};\n</script>\n\n<style lang=\"less\" scoped>\n.nowdata {\n\tdisplay: flex;\n\t.left-date {\n\t\twidth: 100px;\n\t\theight: 100px;\n\t\tborder: 1px solid #ddd;\n\t\ttext-align: center;\n\t\tp {\n\t\t\tfont-size: 16px;\n\t\t\tpadding: 3px 0;\n\t\t}\n\t\t.nowday {\n\t\t\tfont-size: 52px;\n\t\t\tcolor: var(--themeColor);\n\t\t}\n\t}\n\t.right-text {\n\t\tpadding-left: 20px;\n\t\th2 {\n\t\t\tpadding-bottom: 20px;\n\t\t}\n\t}\n}\n.btn {\n\tmargin: 20px 0;\n}\n</style>\n"],"mappings":"AA8BA,SAAAA,WAAA;AACA,SAAAC,UAAA;AACA,OAAAC,SAAA;AACA;EACAC,IAAA;EACAC,UAAA;IAAAF;EAAA;EACAG,KAAA;IACA;MACAC,QAAA;IACA;EACA;EACAC,QAAA;IACAC,WAAA;MACA;MACA,IAAAC,IAAA,OAAAC,IAAA;MACA,IAAAC,KAAA,GAAAF,IAAA,CAAAG,OAAA;MACA,OAAAD,KAAA;IACA;IACAE,UAAA;MACA;MACA,IAAAJ,IAAA,OAAAC,IAAA;MACA,IAAAI,GAAA,GAAAL,IAAA,CAAAM,MAAA;MACA;MACA,IAAAC,GAAA;MACA,OAAAA,GAAA,CAAAF,GAAA;IACA;EACA;EACAG,QAAA;IACA,UAAAC,MAAA,CAAAC,KAAA,CAAAC,OAAA;MACA,KAAAC,QAAA;QACAC,IAAA;QACAC,OAAA;QACAC,SAAA;QACAC,MAAA;MACA;MACA;IACA;IACA;IACAzB,WAAA,GAAA0B,IAAA,CAAAC,GAAA;MACA,KAAArB,QAAA,GAAAqB,GAAA,CAAAtB,IAAA,CAAAA,IAAA,CAAAuB,UAAA;IACA;EACA;EACAC,OAAA;IACAC,QAAA;MACA,KAAAZ,MAAA,CAAAa,QAAA,oBAAAzB,QAAA;MACA;MACAL,UAAA,MAAAK,QAAA,IAAA0B,EAAA,EAAAN,IAAA,CAAAC,GAAA;QACA,KAAAT,MAAA,CAAAa,QAAA,gBAAAJ,GAAA,CAAAtB,IAAA,CAAAA,IAAA,IAAA4B,GAAA;MACA;MACA;MACA,KAAAf,MAAA,CAAAa,QAAA,wBAAAzB,QAAA;IACA;EACA;EACA4B,UAAA;IACAC,QAAA,CAAAC,aAAA,UAAAC,SAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}