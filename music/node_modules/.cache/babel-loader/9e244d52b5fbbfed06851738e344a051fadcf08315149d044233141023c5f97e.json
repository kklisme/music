{"ast":null,"code":"import { mapGetters } from \"vuex\";\nexport default {\n  name: \"app_Aside\",\n  data() {\n    return {\n      defaultActive: \" \",\n      collectIndex: null,\n      subnavitem: [{\n        name: \"发现音乐\",\n        path: \"/findmusic\",\n        icon: \"icon-yinyueclick\"\n      }, {\n        name: \"推荐视频\",\n        path: \"/recvideo\",\n        icon: \"icon-shipin1\"\n      }, {\n        name: \"每日推荐\",\n        path: \"/receveryday\",\n        icon: \"icon-dianzan\"\n      }, {\n        name: \"我的收藏\",\n        path: \"/myfavorite\",\n        icon: \"icon-myfavorite\"\n      }]\n    };\n  },\n  computed: {\n    ...mapGetters([\"userSongList\", \"userInfo\"]),\n    createdSongList() {\n      // 找到用户收藏的第一个歌单的索引号\n      // eslint-disable-next-line vue/no-side-effects-in-computed-properties\n      this.collectIndex = this.userSongList.findIndex(item => item.creator.userId != this.userInfo.userId);\n      // 截取用户创建的歌单\n      if (this.collectIndex !== -1) {\n        return this.userSongList.slice(0, this.collectIndex);\n      } else {\n        return this.userSongList;\n      }\n    },\n    collectSongList() {\n      if (this.collectIndex !== -1) {\n        return this.userSongList.slice(this.collectIndex);\n      } else {\n        return [];\n      }\n    }\n  },\n  methods: {\n    getPath() {\n      let pathArr = \"/\" + this.$route.path.split(\"/\")[1];\n      if (pathArr == \"/songlistdetail\") {\n        this.defaultActive = pathArr + \"/\" + this.$route.params.id;\n      } else {\n        this.defaultActive = pathArr;\n      }\n    }\n  },\n  watch: {\n    $route: \"getPath\"\n  }\n};","map":{"version":3,"names":["mapGetters","name","data","defaultActive","collectIndex","subnavitem","path","icon","computed","createdSongList","userSongList","findIndex","item","creator","userId","userInfo","slice","collectSongList","methods","getPath","pathArr","$route","split","params","id","watch"],"sources":["src/layout/Aside.vue"],"sourcesContent":["<template>\n\t<div id=\"aside\">\n\t\t<!-- 主路由导航 -->\n\t\t<el-menu router :default-active=\"defaultActive\">\n\t\t\t<el-menu-item v-for=\"(item, index) in subnavitem\" :key=\"index\" :index=\"item.path\">\n\t\t\t\t<span class=\"iconfont\" :class=\"item.icon\"></span>\n\t\t\t\t<span>{{ item.name }}</span>\n\t\t\t</el-menu-item>\n\t\t\t<!-- 登录后的 -->\n\t\t\t<div class=\"mycreat\" v-if=\"userSongList.length >= 1\">\n\t\t\t\t<p class=\"by\">我创建的歌单</p>\n\t\t\t\t<el-menu-item v-for=\"item in createdSongList\" :key=\"item.id\" :index=\"'/songlistdetail/' + item.id\">\n\t\t\t\t\t<span class=\"iconfont icon-xihuan\"></span>\n\t\t\t\t\t<span>{{ item.name }}</span>\n\t\t\t\t</el-menu-item>\n\t\t\t</div>\n\t\t\t<div class=\"collect\" v-if=\"userSongList.length > 1\">\n\t\t\t\t<p class=\"by\">我收藏的歌单</p>\n\t\t\t\t<div class=\"person\">\n\t\t\t\t\t<el-menu-item v-for=\"item in collectSongList\" :key=\"item.id\" :index=\"'/songlistdetail/' + item.id\">\n\t\t\t\t\t\t<span class=\"iconfont icon-gedan\"></span>\n\t\t\t\t\t\t<span>{{ item.name }}</span>\n\t\t\t\t\t</el-menu-item>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</el-menu>\n\t</div>\n</template>\n<script>\nimport { mapGetters } from \"vuex\";\nexport default {\n\tname: \"app_Aside\",\n\tdata() {\n\t\treturn {\n\t\t\tdefaultActive: \" \",\n            collectIndex: null,\n\t\t\tsubnavitem: [\n\t\t\t\t{ name: \"发现音乐\", path: \"/findmusic\", icon: \"icon-yinyueclick\" },\n\t\t\t\t{ name: \"推荐视频\", path: \"/recvideo\", icon: \"icon-shipin1\" },\n\t\t\t\t{ name: \"每日推荐\", path: \"/receveryday\", icon: \"icon-dianzan\" },\n\t\t\t\t{ name: \"我的收藏\", path: \"/myfavorite\", icon: \"icon-myfavorite\" },\n\t\t\t],\n\t\t\t\n\t\t};\n\t},\n\tcomputed: {\n\t\t...mapGetters([\"userSongList\", \"userInfo\"]),\n\t\tcreatedSongList() {\n\t\t\t// 找到用户收藏的第一个歌单的索引号\n\t\t\t// eslint-disable-next-line vue/no-side-effects-in-computed-properties\n\t\t\tthis.collectIndex = this.userSongList.findIndex(item => item.creator.userId != this.userInfo.userId);\n\t\t\t// 截取用户创建的歌单\n\t\t\tif (this.collectIndex !== -1) {\n\t\t\t\treturn this.userSongList.slice(0, this.collectIndex);\n\t\t\t} else {\n\t\t\t\treturn this.userSongList;\n\t\t\t}\n\t\t},\n\t\tcollectSongList() {\n\t\t\tif (this.collectIndex !== -1) {\n\t\t\t\treturn this.userSongList.slice(this.collectIndex);\n\t\t\t} else {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t},\n\t},\n\tmethods: {\n\t\tgetPath() {\n\t\t\tlet pathArr = \"/\" + this.$route.path.split(\"/\")[1];\n\t\t\tif (pathArr == \"/songlistdetail\") {\n\t\t\t\tthis.defaultActive = pathArr + \"/\" + this.$route.params.id;\n\t\t\t} else {\n\t\t\t\tthis.defaultActive = pathArr;\n\t\t\t}\n\t\t},\n\t},\n\twatch: {\n\t\t$route: \"getPath\",\n\t},\n};\n</script>\n\n<style lang=\"less\" scoped>\n#aside {\n\theight: 100%;\n\twidth: 230px;\n\toverflow-y: scroll;\n\tborder-right: 1px solid #dddddd;\n\tpadding-top: 2px;\n\t.el-menu {\n\t\tborder-right: 0;\n\t}\n\t.el-menu-item {\n\t\theight: 53px;\n\t\tline-height: 53px;\n\t\tfont-size: 16px;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n\t.el-menu-item.is-active {\n\t\tcolor: var(--base-black);\n\t\tfont-weight: 700;\n\t\tbackground: rgb(245, 245, 245, 0.3) !important;\n\t}\n\t.el-menu-item:hover {\n\t\tbackground: rgb(245, 245, 245, 0.3);\n\t}\n\tspan {\n\t\tpadding-right: 10px;\n\t}\n\t.by {\n\t\tfont-size: 14px;\n\t\tpadding-left: 10px;\n\t}\n\t.person {\n\t\tmargin-top: 10px;\n\t}\n}\n</style>\n"],"mappings":"AA6BA,SAAAA,UAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,aAAA;MACAC,YAAA;MACAC,UAAA,GACA;QAAAJ,IAAA;QAAAK,IAAA;QAAAC,IAAA;MAAA,GACA;QAAAN,IAAA;QAAAK,IAAA;QAAAC,IAAA;MAAA,GACA;QAAAN,IAAA;QAAAK,IAAA;QAAAC,IAAA;MAAA,GACA;QAAAN,IAAA;QAAAK,IAAA;QAAAC,IAAA;MAAA;IAGA;EACA;EACAC,QAAA;IACA,GAAAR,UAAA;IACAS,gBAAA;MACA;MACA;MACA,KAAAL,YAAA,QAAAM,YAAA,CAAAC,SAAA,CAAAC,IAAA,IAAAA,IAAA,CAAAC,OAAA,CAAAC,MAAA,SAAAC,QAAA,CAAAD,MAAA;MACA;MACA,SAAAV,YAAA;QACA,YAAAM,YAAA,CAAAM,KAAA,SAAAZ,YAAA;MACA;QACA,YAAAM,YAAA;MACA;IACA;IACAO,gBAAA;MACA,SAAAb,YAAA;QACA,YAAAM,YAAA,CAAAM,KAAA,MAAAZ,YAAA;MACA;QACA;MACA;IACA;EACA;EACAc,OAAA;IACAC,QAAA;MACA,IAAAC,OAAA,cAAAC,MAAA,CAAAf,IAAA,CAAAgB,KAAA;MACA,IAAAF,OAAA;QACA,KAAAjB,aAAA,GAAAiB,OAAA,cAAAC,MAAA,CAAAE,MAAA,CAAAC,EAAA;MACA;QACA,KAAArB,aAAA,GAAAiB,OAAA;MACA;IACA;EACA;EACAK,KAAA;IACAJ,MAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}