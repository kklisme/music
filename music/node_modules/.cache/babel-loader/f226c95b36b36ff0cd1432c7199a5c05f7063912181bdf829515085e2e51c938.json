{"ast":null,"code":"import { getUserFollows } from \"../../../../network/userdetail/userdetail\";\nimport UserList from \"../../../components/content/userlist/UserList.vue\";\nexport default {\n  name: \"app_Follows\",\n  components: {\n    UserList\n  },\n  data() {\n    return {\n      uid: null,\n      follows: [{}],\n      followsCount: 0\n    };\n  },\n  created() {\n    this.uid = this.$route.params.uid;\n    this.followsCount = Number(this.$route.params.follows);\n    this.getUserFollowsBy();\n  },\n  methods: {\n    //   获取当前uid的关注列表\n    getUserFollowsBy(page = 1) {\n      let offset = (page - 1) * 48;\n      getUserFollows(this.uid, offset).then(res => {\n        this.follows = res.data.follow || [];\n        // 提交vuex的关注列表得是当前登录用户的关注,不能每个人的关注列表都提交保存\n        if (this.$store.state.userInfo.userId === this.uid) {\n          this.$store.dispatch(\"saveUserFollowsList\", res.data.follow);\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["getUserFollows","UserList","name","components","data","uid","follows","followsCount","created","$route","params","Number","getUserFollowsBy","methods","page","offset","then","res","follow","$store","state","userInfo","userId","dispatch"],"sources":["src/views/userdetail/Childcomps/Follows.vue"],"sourcesContent":["<template>\n\t<div class=\"follows w\">\n\t\t<el-divider content-position=\"left\"\n\t\t\t><h2>{{ $route.params.uname }}关注的人</h2></el-divider\n\t\t>\n\t\t<UserList :userlist=\"follows\" v-if=\"follows.length !== 0\" />\n\t\t<div style=\"width: 100%; text-align: center\" v-else>\n\t\t\t<el-empty description=\"还没有关注其他人\" :image-size=\"200\"></el-empty>\n\t\t</div>\n\t\t<!-- 分页器 -->\n\t\t<Pagination :total=\"followsCount\" :page-size=\"48\" @handleCurrentChange=\"getUserFollowsBy\" />\n\t</div>\n</template>\n\n<script>\nimport { getUserFollows } from \"../../../../network/userdetail/userdetail\";\nimport UserList from \"../../../components/content/userlist/UserList.vue\";\nexport default {\n\tname: \"app_Follows\",\n\tcomponents: { UserList },\n\tdata() {\n\t\treturn {\n\t\t\tuid: null,\n\t\t\tfollows: [{}],\n\t\t\tfollowsCount: 0,\n\t\t};\n\t},\n\tcreated() {\n\t\tthis.uid = this.$route.params.uid;\n\t\tthis.followsCount = Number(this.$route.params.follows);\n\t\tthis.getUserFollowsBy();\n\t},\n\tmethods: {\n\t\t//   获取当前uid的关注列表\n\t\tgetUserFollowsBy(page = 1) {\n\t\t\tlet offset = (page - 1) * 48;\n\t\t\tgetUserFollows(this.uid, offset).then(res => {\n\t\t\t\tthis.follows = res.data.follow || [];\n\t\t\t\t// 提交vuex的关注列表得是当前登录用户的关注,不能每个人的关注列表都提交保存\n\t\t\t\tif (this.$store.state.userInfo.userId === this.uid) {\n\t\t\t\t\tthis.$store.dispatch(\"saveUserFollowsList\", res.data.follow);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t},\n};\n</script>\n\n<style lang=\"less\" scoped></style>\n"],"mappings":"AAeA,SAAAA,cAAA;AACA,OAAAC,QAAA;AACA;EACAC,IAAA;EACAC,UAAA;IAAAF;EAAA;EACAG,KAAA;IACA;MACAC,GAAA;MACAC,OAAA;MACAC,YAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAH,GAAA,QAAAI,MAAA,CAAAC,MAAA,CAAAL,GAAA;IACA,KAAAE,YAAA,GAAAI,MAAA,MAAAF,MAAA,CAAAC,MAAA,CAAAJ,OAAA;IACA,KAAAM,gBAAA;EACA;EACAC,OAAA;IACA;IACAD,iBAAAE,IAAA;MACA,IAAAC,MAAA,IAAAD,IAAA;MACAd,cAAA,MAAAK,GAAA,EAAAU,MAAA,EAAAC,IAAA,CAAAC,GAAA;QACA,KAAAX,OAAA,GAAAW,GAAA,CAAAb,IAAA,CAAAc,MAAA;QACA;QACA,SAAAC,MAAA,CAAAC,KAAA,CAAAC,QAAA,CAAAC,MAAA,UAAAjB,GAAA;UACA,KAAAc,MAAA,CAAAI,QAAA,wBAAAN,GAAA,CAAAb,IAAA,CAAAc,MAAA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}