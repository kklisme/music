{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/*!\n * Vue-Lazyload.js v1.3.4\n * (c) 2021 Awe <hilongjw@gmail.com>\n * Released under the MIT License.\n */\n\n/*!\n * is-primitive <https://github.com/jonschlinkert/is-primitive>\n *\n * Copyright (c) 2014-2015, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n// see http://jsperf.com/testing-value-is-primitive/7\n\nvar isPrimitive = function isPrimitive(value) {\n  return value == null || typeof value !== 'function' && typeof value !== 'object';\n};\nvar isPrimitive$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  'default': isPrimitive,\n  __moduleExports: isPrimitive\n});\n\n/*!\n * assign-symbols <https://github.com/jonschlinkert/assign-symbols>\n *\n * Copyright (c) 2015, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\nvar assignSymbols = function (receiver, objects) {\n  if (receiver === null || typeof receiver === 'undefined') {\n    throw new TypeError('expected first argument to be an object.');\n  }\n  if (typeof objects === 'undefined' || typeof Symbol === 'undefined') {\n    return receiver;\n  }\n  if (typeof Object.getOwnPropertySymbols !== 'function') {\n    return receiver;\n  }\n  var isEnumerable = Object.prototype.propertyIsEnumerable;\n  var target = Object(receiver);\n  var len = arguments.length,\n    i = 0;\n  while (++i < len) {\n    var provider = Object(arguments[i]);\n    var names = Object.getOwnPropertySymbols(provider);\n    for (var j = 0; j < names.length; j++) {\n      var key = names[j];\n      if (isEnumerable.call(provider, key)) {\n        target[key] = provider[key];\n      }\n    }\n  }\n  return target;\n};\nvar assignSymbols$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  'default': assignSymbols,\n  __moduleExports: assignSymbols\n});\nvar toString = Object.prototype.toString;\n\n/**\n * Get the native `typeof` a value.\n *\n * @param  {*} `val`\n * @return {*} Native javascript type\n */\n\nvar kindOf = function kindOf(val) {\n  var type = typeof val;\n\n  // primitivies\n  if (type === 'undefined') {\n    return 'undefined';\n  }\n  if (val === null) {\n    return 'null';\n  }\n  if (val === true || val === false || val instanceof Boolean) {\n    return 'boolean';\n  }\n  if (type === 'string' || val instanceof String) {\n    return 'string';\n  }\n  if (type === 'number' || val instanceof Number) {\n    return 'number';\n  }\n\n  // functions\n  if (type === 'function' || val instanceof Function) {\n    if (typeof val.constructor.name !== 'undefined' && val.constructor.name.slice(0, 9) === 'Generator') {\n      return 'generatorfunction';\n    }\n    return 'function';\n  }\n\n  // array\n  if (typeof Array.isArray !== 'undefined' && Array.isArray(val)) {\n    return 'array';\n  }\n\n  // check for instances of RegExp and Date before calling `toString`\n  if (val instanceof RegExp) {\n    return 'regexp';\n  }\n  if (val instanceof Date) {\n    return 'date';\n  }\n\n  // other objects\n  type = toString.call(val);\n  if (type === '[object RegExp]') {\n    return 'regexp';\n  }\n  if (type === '[object Date]') {\n    return 'date';\n  }\n  if (type === '[object Arguments]') {\n    return 'arguments';\n  }\n  if (type === '[object Error]') {\n    return 'error';\n  }\n  if (type === '[object Promise]') {\n    return 'promise';\n  }\n\n  // buffer\n  if (isBuffer(val)) {\n    return 'buffer';\n  }\n\n  // es6: Map, WeakMap, Set, WeakSet\n  if (type === '[object Set]') {\n    return 'set';\n  }\n  if (type === '[object WeakSet]') {\n    return 'weakset';\n  }\n  if (type === '[object Map]') {\n    return 'map';\n  }\n  if (type === '[object WeakMap]') {\n    return 'weakmap';\n  }\n  if (type === '[object Symbol]') {\n    return 'symbol';\n  }\n  if (type === '[object Map Iterator]') {\n    return 'mapiterator';\n  }\n  if (type === '[object Set Iterator]') {\n    return 'setiterator';\n  }\n  if (type === '[object String Iterator]') {\n    return 'stringiterator';\n  }\n  if (type === '[object Array Iterator]') {\n    return 'arrayiterator';\n  }\n\n  // typed arrays\n  if (type === '[object Int8Array]') {\n    return 'int8array';\n  }\n  if (type === '[object Uint8Array]') {\n    return 'uint8array';\n  }\n  if (type === '[object Uint8ClampedArray]') {\n    return 'uint8clampedarray';\n  }\n  if (type === '[object Int16Array]') {\n    return 'int16array';\n  }\n  if (type === '[object Uint16Array]') {\n    return 'uint16array';\n  }\n  if (type === '[object Int32Array]') {\n    return 'int32array';\n  }\n  if (type === '[object Uint32Array]') {\n    return 'uint32array';\n  }\n  if (type === '[object Float32Array]') {\n    return 'float32array';\n  }\n  if (type === '[object Float64Array]') {\n    return 'float64array';\n  }\n\n  // must be a plain object\n  return 'object';\n};\n\n/**\n * If you need to support Safari 5-7 (8-10 yr-old browser),\n * take a look at https://github.com/feross/is-buffer\n */\n\nfunction isBuffer(val) {\n  return val.constructor && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\nvar kindOf$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  'default': kindOf,\n  __moduleExports: kindOf\n});\nvar isPrimitive$2 = isPrimitive$1 && isPrimitive || isPrimitive$1;\nvar assignSymbols$2 = assignSymbols$1 && assignSymbols || assignSymbols$1;\nvar typeOf = kindOf$1 && kindOf || kindOf$1;\nfunction assign(target /*, objects*/) {\n  target = target || {};\n  var len = arguments.length,\n    i = 0;\n  if (len === 1) {\n    return target;\n  }\n  while (++i < len) {\n    var val = arguments[i];\n    if (isPrimitive$2(target)) {\n      target = val;\n    }\n    if (isObject(val)) {\n      extend(target, val);\n    }\n  }\n  return target;\n}\n\n/**\n * Shallow extend\n */\n\nfunction extend(target, obj) {\n  assignSymbols$2(target, obj);\n  for (var key in obj) {\n    if (isValidKey(key) && hasOwn(obj, key)) {\n      var val = obj[key];\n      if (isObject(val)) {\n        if (typeOf(target[key]) === 'undefined' && typeOf(val) === 'function') {\n          target[key] = val;\n        }\n        target[key] = assign(target[key] || {}, val);\n      } else {\n        target[key] = val;\n      }\n    }\n  }\n  return target;\n}\n\n/**\n * Returns true if the object is a plain object or a function.\n */\n\nfunction isObject(obj) {\n  return typeOf(obj) === 'object' || typeOf(obj) === 'function';\n}\n\n/**\n * Returns true if the given `key` is an own property of `obj`.\n */\n\nfunction hasOwn(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\n\n/**\n * Returns true if the given `key` is a valid key that can be used for assigning properties.\n */\n\nfunction isValidKey(key) {\n  return key !== '__proto__' && key !== 'constructor' && key !== 'prototype';\n}\n\n/**\n * Expose `assign`\n */\n\nvar assignDeep = assign;\nconst inBrowser = typeof window !== 'undefined' && window !== null;\nconst hasIntersectionObserver = checkIntersectionObserver();\nfunction checkIntersectionObserver() {\n  if (inBrowser && 'IntersectionObserver' in window && 'IntersectionObserverEntry' in window && 'intersectionRatio' in window.IntersectionObserverEntry.prototype) {\n    // Minimal polyfill for Edge 15's lack of `isIntersecting`\n    // See: https://github.com/w3c/IntersectionObserver/issues/211\n    if (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {\n      Object.defineProperty(window.IntersectionObserverEntry.prototype, 'isIntersecting', {\n        get: function () {\n          return this.intersectionRatio > 0;\n        }\n      });\n    }\n    return true;\n  }\n  return false;\n}\nconst modeType = {\n  event: 'event',\n  observer: 'observer'\n\n  // CustomEvent polyfill for IE\n};\nconst CustomEvent = function () {\n  if (!inBrowser) return;\n  // not IE\n  if (typeof window.CustomEvent === 'function') return window.CustomEvent;\n  function CustomEvent(event, params) {\n    params = params || {\n      bubbles: false,\n      cancelable: false,\n      detail: undefined\n    };\n    var evt = document.createEvent('CustomEvent');\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return evt;\n  }\n  CustomEvent.prototype = window.Event.prototype;\n  return CustomEvent;\n}();\nfunction remove(arr, item) {\n  if (!arr.length) return;\n  const index = arr.indexOf(item);\n  if (index > -1) return arr.splice(index, 1);\n}\nfunction some(arr, fn) {\n  let has = false;\n  for (let i = 0, len = arr.length; i < len; i++) {\n    if (fn(arr[i])) {\n      has = true;\n      break;\n    }\n  }\n  return has;\n}\nfunction getBestSelectionFromSrcset(el, scale) {\n  if (el.tagName !== 'IMG' || !el.getAttribute('data-srcset')) return;\n  let options = el.getAttribute('data-srcset');\n  const result = [];\n  const container = el.parentNode;\n  const containerWidth = container.offsetWidth * scale;\n  let spaceIndex;\n  let tmpSrc;\n  let tmpWidth;\n  options = options.trim().split(',');\n  options.map(item => {\n    item = item.trim();\n    spaceIndex = item.lastIndexOf(' ');\n    if (spaceIndex === -1) {\n      tmpSrc = item;\n      tmpWidth = 999998;\n    } else {\n      tmpSrc = item.substr(0, spaceIndex);\n      tmpWidth = parseInt(item.substr(spaceIndex + 1, item.length - spaceIndex - 2), 10);\n    }\n    result.push([tmpWidth, tmpSrc]);\n  });\n  result.sort(function (a, b) {\n    if (a[0] < b[0]) {\n      return 1;\n    }\n    if (a[0] > b[0]) {\n      return -1;\n    }\n    if (a[0] === b[0]) {\n      if (b[1].indexOf('.webp', b[1].length - 5) !== -1) {\n        return 1;\n      }\n      if (a[1].indexOf('.webp', a[1].length - 5) !== -1) {\n        return -1;\n      }\n    }\n    return 0;\n  });\n  let bestSelectedSrc = '';\n  let tmpOption;\n  for (let i = 0; i < result.length; i++) {\n    tmpOption = result[i];\n    bestSelectedSrc = tmpOption[1];\n    const next = result[i + 1];\n    if (next && next[0] < containerWidth) {\n      bestSelectedSrc = tmpOption[1];\n      break;\n    } else if (!next) {\n      bestSelectedSrc = tmpOption[1];\n      break;\n    }\n  }\n  return bestSelectedSrc;\n}\nfunction find(arr, fn) {\n  let item;\n  for (let i = 0, len = arr.length; i < len; i++) {\n    if (fn(arr[i])) {\n      item = arr[i];\n      break;\n    }\n  }\n  return item;\n}\nconst getDPR = (scale = 1) => inBrowser ? window.devicePixelRatio || scale : scale;\nfunction supportWebp() {\n  if (!inBrowser) return false;\n  let support = true;\n  try {\n    const elem = document.createElement('canvas');\n    if (elem.getContext && elem.getContext('2d')) {\n      support = elem.toDataURL('image/webp').indexOf('data:image/webp') === 0;\n    }\n  } catch (err) {\n    support = false;\n  }\n  return support;\n}\nfunction throttle(action, delay) {\n  let timeout = null;\n  let movement = null;\n  let lastRun = 0;\n  let needRun = false;\n  return function () {\n    needRun = true;\n    if (timeout) {\n      return;\n    }\n    let elapsed = Date.now() - lastRun;\n    let context = this;\n    let args = arguments;\n    let runCallback = function () {\n      lastRun = Date.now();\n      timeout = false;\n      action.apply(context, args);\n    };\n    if (elapsed >= delay) {\n      runCallback();\n    } else {\n      timeout = setTimeout(runCallback, delay);\n    }\n    if (needRun) {\n      clearTimeout(movement);\n      movement = setTimeout(runCallback, 2 * delay);\n    }\n  };\n}\nfunction testSupportsPassive() {\n  if (!inBrowser) return;\n  let support = false;\n  try {\n    let opts = Object.defineProperty({}, 'passive', {\n      get: function () {\n        support = true;\n      }\n    });\n    window.addEventListener('test', null, opts);\n  } catch (e) {}\n  return support;\n}\nconst supportsPassive = testSupportsPassive();\nconst _ = {\n  on(el, type, func, capture = false) {\n    if (supportsPassive) {\n      el.addEventListener(type, func, {\n        capture: capture,\n        passive: true\n      });\n    } else {\n      el.addEventListener(type, func, capture);\n    }\n  },\n  off(el, type, func, capture = false) {\n    el.removeEventListener(type, func, capture);\n  }\n};\nconst loadImageAsync = (item, resolve, reject) => {\n  let image = new Image();\n  if (!item || !item.src) {\n    const err = new Error('image src is required');\n    return reject(err);\n  }\n  image.src = item.src;\n  if (item.cors) {\n    image.crossOrigin = item.cors;\n  }\n  image.onload = function () {\n    resolve({\n      naturalHeight: image.naturalHeight,\n      naturalWidth: image.naturalWidth,\n      src: image.src\n    });\n  };\n  image.onerror = function (e) {\n    reject(e);\n  };\n};\nconst style = (el, prop) => {\n  return typeof getComputedStyle !== 'undefined' ? getComputedStyle(el, null).getPropertyValue(prop) : el.style[prop];\n};\nconst overflow = el => {\n  return style(el, 'overflow') + style(el, 'overflow-y') + style(el, 'overflow-x');\n};\nconst scrollParent = el => {\n  if (!inBrowser) return;\n  if (!(el instanceof HTMLElement)) {\n    return window;\n  }\n  let parent = el;\n  while (parent) {\n    if (parent === document.body || parent === document.documentElement) {\n      break;\n    }\n    if (!parent.parentNode) {\n      break;\n    }\n    if (/(scroll|auto)/.test(overflow(parent))) {\n      return parent;\n    }\n    parent = parent.parentNode;\n  }\n  return window;\n};\nfunction isObject$1(obj) {\n  return obj !== null && typeof obj === 'object';\n}\nfunction ObjectKeys(obj) {\n  if (!(obj instanceof Object)) return [];\n  if (Object.keys) {\n    return Object.keys(obj);\n  } else {\n    let keys = [];\n    for (let key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        keys.push(key);\n      }\n    }\n    return keys;\n  }\n}\nfunction ArrayFrom(arrLike) {\n  let len = arrLike.length;\n  const list = [];\n  for (let i = 0; i < len; i++) {\n    list.push(arrLike[i]);\n  }\n  return list;\n}\nfunction noop() {}\nclass ImageCache {\n  constructor({\n    max\n  }) {\n    this.options = {\n      max: max || 100\n    };\n    this._caches = [];\n  }\n  has(key) {\n    return this._caches.indexOf(key) > -1;\n  }\n  add(key) {\n    if (this.has(key)) return;\n    this._caches.push(key);\n    if (this._caches.length > this.options.max) {\n      this.free();\n    }\n  }\n  free() {\n    this._caches.shift();\n  }\n}\n\n// el: {\n//     state,\n//     src,\n//     error,\n//     loading\n// }\n\nclass ReactiveListener {\n  constructor({\n    el,\n    src,\n    error,\n    loading,\n    bindType,\n    $parent,\n    options,\n    cors,\n    elRenderer,\n    imageCache\n  }) {\n    this.el = el;\n    this.src = src;\n    this.error = error;\n    this.loading = loading;\n    this.bindType = bindType;\n    this.attempt = 0;\n    this.cors = cors;\n    this.naturalHeight = 0;\n    this.naturalWidth = 0;\n    this.options = options;\n    this.rect = null;\n    this.$parent = $parent;\n    this.elRenderer = elRenderer;\n    this._imageCache = imageCache;\n    this.performanceData = {\n      init: Date.now(),\n      loadStart: 0,\n      loadEnd: 0\n    };\n    this.filter();\n    this.initState();\n    this.render('loading', false);\n  }\n\n  /*\n   * init listener state\n   * @return\n   */\n  initState() {\n    if ('dataset' in this.el) {\n      this.el.dataset.src = this.src;\n    } else {\n      this.el.setAttribute('data-src', this.src);\n    }\n    this.state = {\n      loading: false,\n      error: false,\n      loaded: false,\n      rendered: false\n    };\n  }\n\n  /*\n   * record performance\n   * @return\n   */\n  record(event) {\n    this.performanceData[event] = Date.now();\n  }\n\n  /*\n   * update image listener data\n   * @param  {String} image uri\n   * @param  {String} loading image uri\n   * @param  {String} error image uri\n   * @return\n   */\n  update({\n    src,\n    loading,\n    error\n  }) {\n    const oldSrc = this.src;\n    this.src = src;\n    this.loading = loading;\n    this.error = error;\n    this.filter();\n    if (oldSrc !== this.src) {\n      this.attempt = 0;\n      this.initState();\n    }\n  }\n\n  /*\n   * get el node rect\n   * @return\n   */\n  getRect() {\n    this.rect = this.el.getBoundingClientRect();\n  }\n\n  /*\n   *  check el is in view\n   * @return {Boolean} el is in view\n   */\n  checkInView() {\n    this.getRect();\n    return this.rect.top < window.innerHeight * this.options.preLoad && this.rect.bottom > this.options.preLoadTop && this.rect.left < window.innerWidth * this.options.preLoad && this.rect.right > 0;\n  }\n\n  /*\n   * listener filter\n   */\n  filter() {\n    ObjectKeys(this.options.filter).map(key => {\n      this.options.filter[key](this, this.options);\n    });\n  }\n\n  /*\n   * render loading first\n   * @params cb:Function\n   * @return\n   */\n  renderLoading(cb) {\n    this.state.loading = true;\n    loadImageAsync({\n      src: this.loading,\n      cors: this.cors\n    }, data => {\n      this.render('loading', false);\n      this.state.loading = false;\n      cb();\n    }, () => {\n      // handler `loading image` load failed\n      cb();\n      this.state.loading = false;\n      if (!this.options.silent) console.warn(`VueLazyload log: load failed with loading image(${this.loading})`);\n    });\n  }\n\n  /*\n   * try load image and  render it\n   * @return\n   */\n  load(onFinish = noop) {\n    if (this.attempt > this.options.attempt - 1 && this.state.error) {\n      if (!this.options.silent) console.log(`VueLazyload log: ${this.src} tried too more than ${this.options.attempt} times`);\n      onFinish();\n      return;\n    }\n    if (this.state.rendered && this.state.loaded) return;\n    if (this._imageCache.has(this.src)) {\n      this.state.loaded = true;\n      this.render('loaded', true);\n      this.state.rendered = true;\n      return onFinish();\n    }\n    this.renderLoading(() => {\n      this.attempt++;\n      this.options.adapter['beforeLoad'] && this.options.adapter['beforeLoad'](this, this.options);\n      this.record('loadStart');\n      loadImageAsync({\n        src: this.src,\n        cors: this.cors\n      }, data => {\n        this.naturalHeight = data.naturalHeight;\n        this.naturalWidth = data.naturalWidth;\n        this.state.loaded = true;\n        this.state.error = false;\n        this.record('loadEnd');\n        this.render('loaded', false);\n        this.state.rendered = true;\n        this._imageCache.add(this.src);\n        onFinish();\n      }, err => {\n        !this.options.silent && console.error(err);\n        this.state.error = true;\n        this.state.loaded = false;\n        this.render('error', false);\n      });\n    });\n  }\n\n  /*\n   * render image\n   * @param  {String} state to render // ['loading', 'src', 'error']\n   * @param  {String} is form cache\n   * @return\n   */\n  render(state, cache) {\n    this.elRenderer(this, state, cache);\n  }\n\n  /*\n   * output performance data\n   * @return {Object} performance data\n   */\n  performance() {\n    let state = 'loading';\n    let time = 0;\n    if (this.state.loaded) {\n      state = 'loaded';\n      time = (this.performanceData.loadEnd - this.performanceData.loadStart) / 1000;\n    }\n    if (this.state.error) state = 'error';\n    return {\n      src: this.src,\n      state,\n      time\n    };\n  }\n\n  /*\n   * $destroy\n   * @return\n   */\n  $destroy() {\n    this.el = null;\n    this.src = null;\n    this.error = null;\n    this.loading = null;\n    this.bindType = null;\n    this.attempt = 0;\n  }\n}\nconst DEFAULT_URL = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\nconst DEFAULT_EVENTS = ['scroll', 'wheel', 'mousewheel', 'resize', 'animationend', 'transitionend', 'touchmove'];\nconst DEFAULT_OBSERVER_OPTIONS = {\n  rootMargin: '0px',\n  threshold: 0\n};\nfunction Lazy(Vue) {\n  return class Lazy {\n    constructor({\n      preLoad,\n      error,\n      throttleWait,\n      preLoadTop,\n      dispatchEvent,\n      loading,\n      attempt,\n      silent = true,\n      scale,\n      listenEvents,\n      hasbind,\n      filter,\n      adapter,\n      observer,\n      observerOptions\n    }) {\n      this.version = '\"1.3.4\"';\n      this.mode = modeType.event;\n      this.ListenerQueue = [];\n      this.TargetIndex = 0;\n      this.TargetQueue = [];\n      this.options = {\n        silent: silent,\n        dispatchEvent: !!dispatchEvent,\n        throttleWait: throttleWait || 200,\n        preLoad: preLoad || 1.3,\n        preLoadTop: preLoadTop || 0,\n        error: error || DEFAULT_URL,\n        loading: loading || DEFAULT_URL,\n        attempt: attempt || 3,\n        scale: scale || getDPR(scale),\n        ListenEvents: listenEvents || DEFAULT_EVENTS,\n        hasbind: false,\n        supportWebp: supportWebp(),\n        filter: filter || {},\n        adapter: adapter || {},\n        observer: !!observer,\n        observerOptions: observerOptions || DEFAULT_OBSERVER_OPTIONS\n      };\n      this._initEvent();\n      this._imageCache = new ImageCache({\n        max: 200\n      });\n      this.lazyLoadHandler = throttle(this._lazyLoadHandler.bind(this), this.options.throttleWait);\n      this.setMode(this.options.observer ? modeType.observer : modeType.event);\n    }\n\n    /**\n     * update config\n     * @param  {Object} config params\n     * @return\n     */\n    config(options = {}) {\n      assignDeep(this.options, options);\n    }\n\n    /**\n     * output listener's load performance\n     * @return {Array}\n     */\n    performance() {\n      let list = [];\n      this.ListenerQueue.map(item => {\n        list.push(item.performance());\n      });\n      return list;\n    }\n\n    /*\n     * add lazy component to queue\n     * @param  {Vue} vm lazy component instance\n     * @return\n     */\n    addLazyBox(vm) {\n      this.ListenerQueue.push(vm);\n      if (inBrowser) {\n        this._addListenerTarget(window);\n        this._observer && this._observer.observe(vm.el);\n        if (vm.$el && vm.$el.parentNode) {\n          this._addListenerTarget(vm.$el.parentNode);\n        }\n      }\n    }\n\n    /*\n     * add image listener to queue\n     * @param  {DOM} el\n     * @param  {object} binding vue directive binding\n     * @param  {vnode} vnode vue directive vnode\n     * @return\n     */\n    add(el, binding, vnode) {\n      if (some(this.ListenerQueue, item => item.el === el)) {\n        this.update(el, binding);\n        return Vue.nextTick(this.lazyLoadHandler);\n      }\n      let {\n        src,\n        loading,\n        error,\n        cors\n      } = this._valueFormatter(binding.value);\n      Vue.nextTick(() => {\n        src = getBestSelectionFromSrcset(el, this.options.scale) || src;\n        this._observer && this._observer.observe(el);\n        const container = Object.keys(binding.modifiers)[0];\n        let $parent;\n        if (container) {\n          $parent = vnode.context.$refs[container];\n          // if there is container passed in, try ref first, then fallback to getElementById to support the original usage\n          $parent = $parent ? $parent.$el || $parent : document.getElementById(container);\n        }\n        if (!$parent) {\n          $parent = scrollParent(el);\n        }\n        const newListener = new ReactiveListener({\n          bindType: binding.arg,\n          $parent,\n          el,\n          loading,\n          error,\n          src,\n          cors,\n          elRenderer: this._elRenderer.bind(this),\n          options: this.options,\n          imageCache: this._imageCache\n        });\n        this.ListenerQueue.push(newListener);\n        if (inBrowser) {\n          this._addListenerTarget(window);\n          this._addListenerTarget($parent);\n        }\n        this.lazyLoadHandler();\n        Vue.nextTick(() => this.lazyLoadHandler());\n      });\n    }\n\n    /**\n    * update image src\n    * @param  {DOM} el\n    * @param  {object} vue directive binding\n    * @return\n    */\n    update(el, binding, vnode) {\n      let {\n        src,\n        loading,\n        error\n      } = this._valueFormatter(binding.value);\n      src = getBestSelectionFromSrcset(el, this.options.scale) || src;\n      const exist = find(this.ListenerQueue, item => item.el === el);\n      if (!exist) {\n        this.add(el, binding, vnode);\n      } else {\n        exist.update({\n          src,\n          loading,\n          error\n        });\n      }\n      if (this._observer) {\n        this._observer.unobserve(el);\n        this._observer.observe(el);\n      }\n      this.lazyLoadHandler();\n      Vue.nextTick(() => this.lazyLoadHandler());\n    }\n\n    /**\n    * remove listener form list\n    * @param  {DOM} el\n    * @return\n    */\n    remove(el) {\n      if (!el) return;\n      this._observer && this._observer.unobserve(el);\n      const existItem = find(this.ListenerQueue, item => item.el === el);\n      if (existItem) {\n        this._removeListenerTarget(existItem.$parent);\n        this._removeListenerTarget(window);\n        remove(this.ListenerQueue, existItem);\n        existItem.$destroy();\n      }\n    }\n\n    /*\n     * remove lazy components form list\n     * @param  {Vue} vm Vue instance\n     * @return\n     */\n    removeComponent(vm) {\n      if (!vm) return;\n      remove(this.ListenerQueue, vm);\n      this._observer && this._observer.unobserve(vm.el);\n      if (vm.$parent && vm.$el.parentNode) {\n        this._removeListenerTarget(vm.$el.parentNode);\n      }\n      this._removeListenerTarget(window);\n    }\n    setMode(mode) {\n      if (!hasIntersectionObserver && mode === modeType.observer) {\n        mode = modeType.event;\n      }\n      this.mode = mode; // event or observer\n\n      if (mode === modeType.event) {\n        if (this._observer) {\n          this.ListenerQueue.forEach(listener => {\n            this._observer.unobserve(listener.el);\n          });\n          this._observer = null;\n        }\n        this.TargetQueue.forEach(target => {\n          this._initListen(target.el, true);\n        });\n      } else {\n        this.TargetQueue.forEach(target => {\n          this._initListen(target.el, false);\n        });\n        this._initIntersectionObserver();\n      }\n    }\n\n    /*\n    *** Private functions ***\n    */\n\n    /*\n     * add listener target\n     * @param  {DOM} el listener target\n     * @return\n     */\n    _addListenerTarget(el) {\n      if (!el) return;\n      let target = find(this.TargetQueue, target => target.el === el);\n      if (!target) {\n        target = {\n          el: el,\n          id: ++this.TargetIndex,\n          childrenCount: 1,\n          listened: true\n        };\n        this.mode === modeType.event && this._initListen(target.el, true);\n        this.TargetQueue.push(target);\n      } else {\n        target.childrenCount++;\n      }\n      return this.TargetIndex;\n    }\n\n    /*\n     * remove listener target or reduce target childrenCount\n     * @param  {DOM} el or window\n     * @return\n     */\n    _removeListenerTarget(el) {\n      this.TargetQueue.forEach((target, index) => {\n        if (target.el === el) {\n          target.childrenCount--;\n          if (!target.childrenCount) {\n            this._initListen(target.el, false);\n            this.TargetQueue.splice(index, 1);\n            target = null;\n          }\n        }\n      });\n    }\n\n    /*\n     * add or remove eventlistener\n     * @param  {DOM} el DOM or Window\n     * @param  {boolean} start flag\n     * @return\n     */\n    _initListen(el, start) {\n      this.options.ListenEvents.forEach(evt => _[start ? 'on' : 'off'](el, evt, this.lazyLoadHandler));\n    }\n    _initEvent() {\n      this.Event = {\n        listeners: {\n          loading: [],\n          loaded: [],\n          error: []\n        }\n      };\n      this.$on = (event, func) => {\n        if (!this.Event.listeners[event]) this.Event.listeners[event] = [];\n        this.Event.listeners[event].push(func);\n      };\n      this.$once = (event, func) => {\n        const vm = this;\n        function on() {\n          vm.$off(event, on);\n          func.apply(vm, arguments);\n        }\n        this.$on(event, on);\n      };\n      this.$off = (event, func) => {\n        if (!func) {\n          if (!this.Event.listeners[event]) return;\n          this.Event.listeners[event].length = 0;\n          return;\n        }\n        remove(this.Event.listeners[event], func);\n      };\n      this.$emit = (event, context, inCache) => {\n        if (!this.Event.listeners[event]) return;\n        this.Event.listeners[event].forEach(func => func(context, inCache));\n      };\n    }\n\n    /**\n     * find nodes which in viewport and trigger load\n     * @return\n     */\n    _lazyLoadHandler() {\n      const freeList = [];\n      this.ListenerQueue.forEach((listener, index) => {\n        if (!listener.el || !listener.el.parentNode) {\n          freeList.push(listener);\n        }\n        const catIn = listener.checkInView();\n        if (!catIn) return;\n        listener.load();\n      });\n      freeList.forEach(item => {\n        remove(this.ListenerQueue, item);\n        item.$destroy();\n      });\n    }\n    /**\n    * init IntersectionObserver\n    * set mode to observer\n    * @return\n    */\n    _initIntersectionObserver() {\n      if (!hasIntersectionObserver) return;\n      this._observer = new IntersectionObserver(this._observerHandler.bind(this), this.options.observerOptions);\n      if (this.ListenerQueue.length) {\n        this.ListenerQueue.forEach(listener => {\n          this._observer.observe(listener.el);\n        });\n      }\n    }\n\n    /**\n    * init IntersectionObserver\n    * @return\n    */\n    _observerHandler(entries, observer) {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          this.ListenerQueue.forEach(listener => {\n            if (listener.el === entry.target) {\n              if (listener.state.loaded) return this._observer.unobserve(listener.el);\n              listener.load();\n            }\n          });\n        }\n      });\n    }\n\n    /**\n    * set element attribute with image'url and state\n    * @param  {object} lazyload listener object\n    * @param  {string} state will be rendered\n    * @param  {bool} inCache  is rendered from cache\n    * @return\n    */\n    _elRenderer(listener, state, cache) {\n      if (!listener.el) return;\n      const {\n        el,\n        bindType\n      } = listener;\n      let src;\n      switch (state) {\n        case 'loading':\n          src = listener.loading;\n          break;\n        case 'error':\n          src = listener.error;\n          break;\n        default:\n          src = listener.src;\n          break;\n      }\n      if (bindType) {\n        el.style[bindType] = 'url(\"' + src + '\")';\n      } else if (el.getAttribute('src') !== src) {\n        el.setAttribute('src', src);\n      }\n      el.setAttribute('lazy', state);\n      this.$emit(state, listener, cache);\n      this.options.adapter[state] && this.options.adapter[state](listener, this.options);\n      if (this.options.dispatchEvent) {\n        const event = new CustomEvent(state, {\n          detail: listener\n        });\n        el.dispatchEvent(event);\n      }\n    }\n\n    /**\n    * generate loading loaded error image url\n    * @param {string} image's src\n    * @return {object} image's loading, loaded, error url\n    */\n    _valueFormatter(value) {\n      let src = value;\n      let loading = this.options.loading;\n      let error = this.options.error;\n\n      // value is object\n      if (isObject$1(value)) {\n        if (!value.src && !this.options.silent) console.error('Vue Lazyload warning: miss src with ' + value);\n        src = value.src;\n        loading = value.loading || this.options.loading;\n        error = value.error || this.options.error;\n      }\n      return {\n        src,\n        loading,\n        error\n      };\n    }\n  };\n}\nLazy.install = (Vue, options = {}) => {\n  const LazyClass = Lazy(Vue);\n  const lazy = new LazyClass(options);\n  const isVue2 = Vue.version.split('.')[0] === '2';\n  if (isVue2) {\n    Vue.directive('lazy', {\n      bind: lazy.add.bind(lazy),\n      update: lazy.update.bind(lazy),\n      componentUpdated: lazy.lazyLoadHandler.bind(lazy),\n      unbind: lazy.remove.bind(lazy)\n    });\n  } else {\n    Vue.directive('lazy', {\n      bind: lazy.lazyLoadHandler.bind(lazy),\n      update(newValue, oldValue) {\n        assignDeep(this.vm.$refs, this.vm.$els);\n        lazy.add(this.el, {\n          modifiers: this.modifiers || {},\n          arg: this.arg,\n          value: newValue,\n          oldValue: oldValue\n        }, {\n          context: this.vm\n        });\n      },\n      unbind() {\n        lazy.remove(this.el);\n      }\n    });\n  }\n};\nconst LazyComponent = lazy => {\n  return {\n    props: {\n      tag: {\n        type: String,\n        default: 'div'\n      }\n    },\n    render(h) {\n      return h(this.tag, null, this.show ? this.$slots.default : null);\n    },\n    data() {\n      return {\n        el: null,\n        state: {\n          loaded: false\n        },\n        rect: {},\n        show: false\n      };\n    },\n    mounted() {\n      this.el = this.$el;\n      lazy.addLazyBox(this);\n      lazy.lazyLoadHandler();\n    },\n    beforeDestroy() {\n      lazy.removeComponent(this);\n    },\n    methods: {\n      getRect() {\n        this.rect = this.$el.getBoundingClientRect();\n      },\n      checkInView() {\n        this.getRect();\n        return inBrowser && this.rect.top < window.innerHeight * lazy.options.preLoad && this.rect.bottom > 0 && this.rect.left < window.innerWidth * lazy.options.preLoad && this.rect.right > 0;\n      },\n      load() {\n        this.show = true;\n        this.state.loaded = true;\n        this.$emit('show', this);\n      },\n      destroy() {\n        return this.$destroy;\n      }\n    }\n  };\n};\nLazyComponent.install = function (Vue, options = {}) {\n  const LazyClass = Lazy(Vue);\n  const lazy = new LazyClass(options);\n  Vue.component('lazy-component', LazyComponent(lazy));\n};\nclass LazyContainerMananger {\n  constructor({\n    lazy\n  }) {\n    this.lazy = lazy;\n    lazy.lazyContainerMananger = this;\n    this._queue = [];\n  }\n  bind(el, binding, vnode) {\n    const container = new LazyContainer({\n      el,\n      binding,\n      vnode,\n      lazy: this.lazy\n    });\n    this._queue.push(container);\n  }\n  update(el, binding, vnode) {\n    const container = find(this._queue, item => item.el === el);\n    if (!container) return;\n    container.update({\n      el,\n      binding,\n      vnode\n    });\n  }\n  unbind(el, binding, vnode) {\n    const container = find(this._queue, item => item.el === el);\n    if (!container) return;\n    container.clear();\n    remove(this._queue, container);\n  }\n}\nconst defaultOptions = {\n  selector: 'img'\n};\nclass LazyContainer {\n  constructor({\n    el,\n    binding,\n    vnode,\n    lazy\n  }) {\n    this.el = null;\n    this.vnode = vnode;\n    this.binding = binding;\n    this.options = {};\n    this.lazy = lazy;\n    this._queue = [];\n    this.update({\n      el,\n      binding\n    });\n  }\n  update({\n    el,\n    binding\n  }) {\n    this.el = el;\n    this.options = assignDeep({}, defaultOptions, binding.value);\n    const imgs = this.getImgs();\n    imgs.forEach(el => {\n      this.lazy.add(el, assignDeep({}, this.binding, {\n        value: {\n          src: 'dataset' in el ? el.dataset.src : el.getAttribute('data-src'),\n          error: ('dataset' in el ? el.dataset.error : el.getAttribute('data-error')) || this.options.error,\n          loading: ('dataset' in el ? el.dataset.loading : el.getAttribute('data-loading')) || this.options.loading\n        }\n      }), this.vnode);\n    });\n  }\n  getImgs() {\n    return ArrayFrom(this.el.querySelectorAll(this.options.selector));\n  }\n  clear() {\n    const imgs = this.getImgs();\n    imgs.forEach(el => this.lazy.remove(el));\n    this.vnode = null;\n    this.binding = null;\n    this.lazy = null;\n  }\n}\nLazyContainer.install = (Vue, options = {}) => {\n  const LazyClass = Lazy(Vue);\n  const lazy = new LazyClass(options);\n  const lazyContainer = new LazyContainer({\n    lazy\n  });\n  const isVue2 = Vue.version.split('.')[0] === '2';\n  if (isVue2) {\n    Vue.directive('lazy-container', {\n      bind: lazyContainer.bind.bind(lazyContainer),\n      componentUpdated: lazyContainer.update.bind(lazyContainer),\n      unbind: lazyContainer.unbind.bind(lazyContainer)\n    });\n  } else {\n    Vue.directive('lazy-container', {\n      update(newValue, oldValue) {\n        lazyContainer.update(this.el, {\n          modifiers: this.modifiers || {},\n          arg: this.arg,\n          value: newValue,\n          oldValue: oldValue\n        }, {\n          context: this.vm\n        });\n      },\n      unbind() {\n        lazyContainer.unbind(this.el);\n      }\n    });\n  }\n};\nconst LazyImage = lazyManager => {\n  return {\n    props: {\n      src: [String, Object],\n      tag: {\n        type: String,\n        default: 'img'\n      }\n    },\n    render(h) {\n      return h(this.tag, {\n        attrs: {\n          src: this.renderSrc\n        }\n      }, this.$slots.default);\n    },\n    data() {\n      return {\n        el: null,\n        options: {\n          src: '',\n          error: '',\n          loading: '',\n          attempt: lazyManager.options.attempt\n        },\n        state: {\n          loaded: false,\n          error: false,\n          attempt: 0\n        },\n        rect: {},\n        renderSrc: ''\n      };\n    },\n    watch: {\n      src() {\n        this.init();\n        lazyManager.addLazyBox(this);\n        lazyManager.lazyLoadHandler();\n      }\n    },\n    created() {\n      this.init();\n      this.renderSrc = this.options.loading;\n    },\n    mounted() {\n      this.el = this.$el;\n      lazyManager.addLazyBox(this);\n      lazyManager.lazyLoadHandler();\n    },\n    beforeDestroy() {\n      lazyManager.removeComponent(this);\n    },\n    methods: {\n      init() {\n        const {\n          src,\n          loading,\n          error\n        } = lazyManager._valueFormatter(this.src);\n        this.state.loaded = false;\n        this.options.src = src;\n        this.options.error = error;\n        this.options.loading = loading;\n        this.renderSrc = this.options.loading;\n      },\n      getRect() {\n        this.rect = this.$el.getBoundingClientRect();\n      },\n      checkInView() {\n        this.getRect();\n        return inBrowser && this.rect.top < window.innerHeight * lazyManager.options.preLoad && this.rect.bottom > 0 && this.rect.left < window.innerWidth * lazyManager.options.preLoad && this.rect.right > 0;\n      },\n      load(onFinish = noop) {\n        if (this.state.attempt > this.options.attempt - 1 && this.state.error) {\n          if (!lazyManager.options.silent) console.log(`VueLazyload log: ${this.options.src} tried too more than ${this.options.attempt} times`);\n          onFinish();\n          return;\n        }\n        const src = this.options.src;\n        loadImageAsync({\n          src\n        }, ({\n          src\n        }) => {\n          this.renderSrc = src;\n          this.state.loaded = true;\n        }, e => {\n          this.state.attempt++;\n          this.renderSrc = this.options.error;\n          this.state.error = true;\n        });\n      }\n    }\n  };\n};\nLazyImage.install = (Vue, options = {}) => {\n  const LazyClass = Lazy(Vue);\n  const lazy = new LazyClass(options);\n  Vue.component('lazy-image', LazyImage(lazy));\n};\nvar index = {\n  /*\n  * install function\n  * @param  {Vue} Vue\n  * @param  {object} options  lazyload options\n  */\n  install(Vue, options = {}) {\n    const LazyClass = Lazy(Vue);\n    const lazy = new LazyClass(options);\n    const lazyContainer = new LazyContainerMananger({\n      lazy\n    });\n    const isVue2 = Vue.version.split('.')[0] === '2';\n    Vue.prototype.$Lazyload = lazy;\n    if (options.lazyComponent) {\n      Vue.component('lazy-component', LazyComponent(lazy));\n    }\n    if (options.lazyImage) {\n      Vue.component('lazy-image', LazyImage(lazy));\n    }\n    if (isVue2) {\n      Vue.directive('lazy', {\n        bind: lazy.add.bind(lazy),\n        update: lazy.update.bind(lazy),\n        componentUpdated: lazy.lazyLoadHandler.bind(lazy),\n        unbind: lazy.remove.bind(lazy)\n      });\n      Vue.directive('lazy-container', {\n        bind: lazyContainer.bind.bind(lazyContainer),\n        componentUpdated: lazyContainer.update.bind(lazyContainer),\n        unbind: lazyContainer.unbind.bind(lazyContainer)\n      });\n    } else {\n      Vue.directive('lazy', {\n        bind: lazy.lazyLoadHandler.bind(lazy),\n        update(newValue, oldValue) {\n          assignDeep(this.vm.$refs, this.vm.$els);\n          lazy.add(this.el, {\n            modifiers: this.modifiers || {},\n            arg: this.arg,\n            value: newValue,\n            oldValue: oldValue\n          }, {\n            context: this.vm\n          });\n        },\n        unbind() {\n          lazy.remove(this.el);\n        }\n      });\n      Vue.directive('lazy-container', {\n        update(newValue, oldValue) {\n          lazyContainer.update(this.el, {\n            modifiers: this.modifiers || {},\n            arg: this.arg,\n            value: newValue,\n            oldValue: oldValue\n          }, {\n            context: this.vm\n          });\n        },\n        unbind() {\n          lazyContainer.unbind(this.el);\n        }\n      });\n    }\n  }\n};\nexport default index;\nexport { Lazy, LazyComponent, LazyContainerMananger as LazyContainer, LazyImage };","map":{"version":3,"names":["isPrimitive","value","isPrimitive$1","Object","freeze","__proto__","__moduleExports","assignSymbols","receiver","objects","TypeError","Symbol","getOwnPropertySymbols","isEnumerable","prototype","propertyIsEnumerable","target","len","arguments","length","i","provider","names","j","key","call","assignSymbols$1","toString","kindOf","val","type","Boolean","String","Number","Function","constructor","name","slice","Array","isArray","RegExp","Date","isBuffer","kindOf$1","isPrimitive$2","assignSymbols$2","typeOf","assign","isObject","extend","obj","isValidKey","hasOwn","hasOwnProperty","assignDeep","inBrowser","window","hasIntersectionObserver","checkIntersectionObserver","IntersectionObserverEntry","defineProperty","get","intersectionRatio","modeType","event","observer","CustomEvent","params","bubbles","cancelable","detail","undefined","evt","document","createEvent","initCustomEvent","Event","remove","arr","item","index","indexOf","splice","some","fn","has","getBestSelectionFromSrcset","el","scale","tagName","getAttribute","options","result","container","parentNode","containerWidth","offsetWidth","spaceIndex","tmpSrc","tmpWidth","trim","split","map","lastIndexOf","substr","parseInt","push","sort","a","b","bestSelectedSrc","tmpOption","next","find","getDPR","devicePixelRatio","supportWebp","support","elem","createElement","getContext","toDataURL","err","throttle","action","delay","timeout","movement","lastRun","needRun","elapsed","now","context","args","runCallback","apply","setTimeout","clearTimeout","testSupportsPassive","opts","addEventListener","e","supportsPassive","_","on","func","capture","passive","off","removeEventListener","loadImageAsync","resolve","reject","image","Image","src","Error","cors","crossOrigin","onload","naturalHeight","naturalWidth","onerror","style","prop","getComputedStyle","getPropertyValue","overflow","scrollParent","HTMLElement","parent","body","documentElement","test","isObject$1","ObjectKeys","keys","ArrayFrom","arrLike","list","noop","ImageCache","max","_caches","add","free","shift","ReactiveListener","error","loading","bindType","$parent","elRenderer","imageCache","attempt","rect","_imageCache","performanceData","init","loadStart","loadEnd","filter","initState","render","dataset","setAttribute","state","loaded","rendered","record","update","oldSrc","getRect","getBoundingClientRect","checkInView","top","innerHeight","preLoad","bottom","preLoadTop","left","innerWidth","right","renderLoading","cb","data","silent","console","warn","load","onFinish","log","adapter","cache","performance","time","$destroy","DEFAULT_URL","DEFAULT_EVENTS","DEFAULT_OBSERVER_OPTIONS","rootMargin","threshold","Lazy","Vue","throttleWait","dispatchEvent","listenEvents","hasbind","observerOptions","version","mode","ListenerQueue","TargetIndex","TargetQueue","ListenEvents","_initEvent","lazyLoadHandler","_lazyLoadHandler","bind","setMode","config","addLazyBox","vm","_addListenerTarget","_observer","observe","$el","binding","vnode","nextTick","_valueFormatter","modifiers","$refs","getElementById","newListener","arg","_elRenderer","exist","unobserve","existItem","_removeListenerTarget","removeComponent","forEach","listener","_initListen","_initIntersectionObserver","id","childrenCount","listened","start","listeners","$on","$once","$off","$emit","inCache","freeList","catIn","IntersectionObserver","_observerHandler","entries","entry","isIntersecting","install","LazyClass","lazy","isVue2","directive","componentUpdated","unbind","newValue","oldValue","$els","LazyComponent","props","tag","default","h","show","$slots","mounted","beforeDestroy","methods","destroy","component","LazyContainerMananger","lazyContainerMananger","_queue","LazyContainer","clear","defaultOptions","selector","imgs","getImgs","querySelectorAll","lazyContainer","LazyImage","lazyManager","attrs","renderSrc","watch","created","$Lazyload","lazyComponent","lazyImage"],"sources":["C:/Users/kiki0128/Desktop/网易云音乐/Vue2-music-main/node_modules/vue-lazyload/vue-lazyload.esm.js"],"sourcesContent":["/*!\n * Vue-Lazyload.js v1.3.4\n * (c) 2021 Awe <hilongjw@gmail.com>\n * Released under the MIT License.\n */\n\n/*!\n * is-primitive <https://github.com/jonschlinkert/is-primitive>\n *\n * Copyright (c) 2014-2015, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n// see http://jsperf.com/testing-value-is-primitive/7\n\nvar isPrimitive = function isPrimitive(value) {\n  return value == null || typeof value !== 'function' && typeof value !== 'object';\n};\n\nvar isPrimitive$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  'default': isPrimitive,\n  __moduleExports: isPrimitive\n});\n\n/*!\n * assign-symbols <https://github.com/jonschlinkert/assign-symbols>\n *\n * Copyright (c) 2015, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\nvar assignSymbols = function (receiver, objects) {\n  if (receiver === null || typeof receiver === 'undefined') {\n    throw new TypeError('expected first argument to be an object.');\n  }\n\n  if (typeof objects === 'undefined' || typeof Symbol === 'undefined') {\n    return receiver;\n  }\n\n  if (typeof Object.getOwnPropertySymbols !== 'function') {\n    return receiver;\n  }\n\n  var isEnumerable = Object.prototype.propertyIsEnumerable;\n  var target = Object(receiver);\n  var len = arguments.length,\n      i = 0;\n\n  while (++i < len) {\n    var provider = Object(arguments[i]);\n    var names = Object.getOwnPropertySymbols(provider);\n\n    for (var j = 0; j < names.length; j++) {\n      var key = names[j];\n\n      if (isEnumerable.call(provider, key)) {\n        target[key] = provider[key];\n      }\n    }\n  }\n  return target;\n};\n\nvar assignSymbols$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  'default': assignSymbols,\n  __moduleExports: assignSymbols\n});\n\nvar toString = Object.prototype.toString;\n\n/**\n * Get the native `typeof` a value.\n *\n * @param  {*} `val`\n * @return {*} Native javascript type\n */\n\nvar kindOf = function kindOf(val) {\n  var type = typeof val;\n\n  // primitivies\n  if (type === 'undefined') {\n    return 'undefined';\n  }\n  if (val === null) {\n    return 'null';\n  }\n  if (val === true || val === false || val instanceof Boolean) {\n    return 'boolean';\n  }\n  if (type === 'string' || val instanceof String) {\n    return 'string';\n  }\n  if (type === 'number' || val instanceof Number) {\n    return 'number';\n  }\n\n  // functions\n  if (type === 'function' || val instanceof Function) {\n    if (typeof val.constructor.name !== 'undefined' && val.constructor.name.slice(0, 9) === 'Generator') {\n      return 'generatorfunction';\n    }\n    return 'function';\n  }\n\n  // array\n  if (typeof Array.isArray !== 'undefined' && Array.isArray(val)) {\n    return 'array';\n  }\n\n  // check for instances of RegExp and Date before calling `toString`\n  if (val instanceof RegExp) {\n    return 'regexp';\n  }\n  if (val instanceof Date) {\n    return 'date';\n  }\n\n  // other objects\n  type = toString.call(val);\n\n  if (type === '[object RegExp]') {\n    return 'regexp';\n  }\n  if (type === '[object Date]') {\n    return 'date';\n  }\n  if (type === '[object Arguments]') {\n    return 'arguments';\n  }\n  if (type === '[object Error]') {\n    return 'error';\n  }\n  if (type === '[object Promise]') {\n    return 'promise';\n  }\n\n  // buffer\n  if (isBuffer(val)) {\n    return 'buffer';\n  }\n\n  // es6: Map, WeakMap, Set, WeakSet\n  if (type === '[object Set]') {\n    return 'set';\n  }\n  if (type === '[object WeakSet]') {\n    return 'weakset';\n  }\n  if (type === '[object Map]') {\n    return 'map';\n  }\n  if (type === '[object WeakMap]') {\n    return 'weakmap';\n  }\n  if (type === '[object Symbol]') {\n    return 'symbol';\n  }\n\n  if (type === '[object Map Iterator]') {\n    return 'mapiterator';\n  }\n  if (type === '[object Set Iterator]') {\n    return 'setiterator';\n  }\n  if (type === '[object String Iterator]') {\n    return 'stringiterator';\n  }\n  if (type === '[object Array Iterator]') {\n    return 'arrayiterator';\n  }\n\n  // typed arrays\n  if (type === '[object Int8Array]') {\n    return 'int8array';\n  }\n  if (type === '[object Uint8Array]') {\n    return 'uint8array';\n  }\n  if (type === '[object Uint8ClampedArray]') {\n    return 'uint8clampedarray';\n  }\n  if (type === '[object Int16Array]') {\n    return 'int16array';\n  }\n  if (type === '[object Uint16Array]') {\n    return 'uint16array';\n  }\n  if (type === '[object Int32Array]') {\n    return 'int32array';\n  }\n  if (type === '[object Uint32Array]') {\n    return 'uint32array';\n  }\n  if (type === '[object Float32Array]') {\n    return 'float32array';\n  }\n  if (type === '[object Float64Array]') {\n    return 'float64array';\n  }\n\n  // must be a plain object\n  return 'object';\n};\n\n/**\n * If you need to support Safari 5-7 (8-10 yr-old browser),\n * take a look at https://github.com/feross/is-buffer\n */\n\nfunction isBuffer(val) {\n  return val.constructor && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\nvar kindOf$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  'default': kindOf,\n  __moduleExports: kindOf\n});\n\nvar isPrimitive$2 = ( isPrimitive$1 && isPrimitive ) || isPrimitive$1;\n\nvar assignSymbols$2 = ( assignSymbols$1 && assignSymbols ) || assignSymbols$1;\n\nvar typeOf = ( kindOf$1 && kindOf ) || kindOf$1;\n\nfunction assign(target /*, objects*/) {\n  target = target || {};\n  var len = arguments.length,\n      i = 0;\n  if (len === 1) {\n    return target;\n  }\n  while (++i < len) {\n    var val = arguments[i];\n    if (isPrimitive$2(target)) {\n      target = val;\n    }\n    if (isObject(val)) {\n      extend(target, val);\n    }\n  }\n  return target;\n}\n\n/**\n * Shallow extend\n */\n\nfunction extend(target, obj) {\n  assignSymbols$2(target, obj);\n\n  for (var key in obj) {\n    if (isValidKey(key) && hasOwn(obj, key)) {\n      var val = obj[key];\n      if (isObject(val)) {\n        if (typeOf(target[key]) === 'undefined' && typeOf(val) === 'function') {\n          target[key] = val;\n        }\n        target[key] = assign(target[key] || {}, val);\n      } else {\n        target[key] = val;\n      }\n    }\n  }\n  return target;\n}\n\n/**\n * Returns true if the object is a plain object or a function.\n */\n\nfunction isObject(obj) {\n  return typeOf(obj) === 'object' || typeOf(obj) === 'function';\n}\n\n/**\n * Returns true if the given `key` is an own property of `obj`.\n */\n\nfunction hasOwn(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\n\n/**\n * Returns true if the given `key` is a valid key that can be used for assigning properties.\n */\n\nfunction isValidKey(key) {\n  return key !== '__proto__' && key !== 'constructor' && key !== 'prototype';\n}\n\n/**\n * Expose `assign`\n */\n\nvar assignDeep = assign;\n\nconst inBrowser = typeof window !== 'undefined' && window !== null;\n\nconst hasIntersectionObserver = checkIntersectionObserver();\n\nfunction checkIntersectionObserver() {\n  if (inBrowser && 'IntersectionObserver' in window && 'IntersectionObserverEntry' in window && 'intersectionRatio' in window.IntersectionObserverEntry.prototype) {\n    // Minimal polyfill for Edge 15's lack of `isIntersecting`\n    // See: https://github.com/w3c/IntersectionObserver/issues/211\n    if (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {\n      Object.defineProperty(window.IntersectionObserverEntry.prototype, 'isIntersecting', {\n        get: function () {\n          return this.intersectionRatio > 0;\n        }\n      });\n    }\n    return true;\n  }\n  return false;\n}\n\nconst modeType = {\n  event: 'event',\n  observer: 'observer'\n\n  // CustomEvent polyfill for IE\n};const CustomEvent = function () {\n  if (!inBrowser) return;\n  // not IE\n  if (typeof window.CustomEvent === 'function') return window.CustomEvent;\n  function CustomEvent(event, params) {\n    params = params || { bubbles: false, cancelable: false, detail: undefined };\n    var evt = document.createEvent('CustomEvent');\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return evt;\n  }\n  CustomEvent.prototype = window.Event.prototype;\n  return CustomEvent;\n}();\n\nfunction remove(arr, item) {\n  if (!arr.length) return;\n  const index = arr.indexOf(item);\n  if (index > -1) return arr.splice(index, 1);\n}\n\nfunction some(arr, fn) {\n  let has = false;\n  for (let i = 0, len = arr.length; i < len; i++) {\n    if (fn(arr[i])) {\n      has = true;\n      break;\n    }\n  }\n  return has;\n}\n\nfunction getBestSelectionFromSrcset(el, scale) {\n  if (el.tagName !== 'IMG' || !el.getAttribute('data-srcset')) return;\n\n  let options = el.getAttribute('data-srcset');\n  const result = [];\n  const container = el.parentNode;\n  const containerWidth = container.offsetWidth * scale;\n\n  let spaceIndex;\n  let tmpSrc;\n  let tmpWidth;\n\n  options = options.trim().split(',');\n\n  options.map(item => {\n    item = item.trim();\n    spaceIndex = item.lastIndexOf(' ');\n    if (spaceIndex === -1) {\n      tmpSrc = item;\n      tmpWidth = 999998;\n    } else {\n      tmpSrc = item.substr(0, spaceIndex);\n      tmpWidth = parseInt(item.substr(spaceIndex + 1, item.length - spaceIndex - 2), 10);\n    }\n    result.push([tmpWidth, tmpSrc]);\n  });\n\n  result.sort(function (a, b) {\n    if (a[0] < b[0]) {\n      return 1;\n    }\n    if (a[0] > b[0]) {\n      return -1;\n    }\n    if (a[0] === b[0]) {\n      if (b[1].indexOf('.webp', b[1].length - 5) !== -1) {\n        return 1;\n      }\n      if (a[1].indexOf('.webp', a[1].length - 5) !== -1) {\n        return -1;\n      }\n    }\n    return 0;\n  });\n  let bestSelectedSrc = '';\n  let tmpOption;\n\n  for (let i = 0; i < result.length; i++) {\n    tmpOption = result[i];\n    bestSelectedSrc = tmpOption[1];\n    const next = result[i + 1];\n    if (next && next[0] < containerWidth) {\n      bestSelectedSrc = tmpOption[1];\n      break;\n    } else if (!next) {\n      bestSelectedSrc = tmpOption[1];\n      break;\n    }\n  }\n\n  return bestSelectedSrc;\n}\n\nfunction find(arr, fn) {\n  let item;\n  for (let i = 0, len = arr.length; i < len; i++) {\n    if (fn(arr[i])) {\n      item = arr[i];\n      break;\n    }\n  }\n  return item;\n}\n\nconst getDPR = (scale = 1) => inBrowser ? window.devicePixelRatio || scale : scale;\n\nfunction supportWebp() {\n  if (!inBrowser) return false;\n\n  let support = true;\n\n  try {\n    const elem = document.createElement('canvas');\n\n    if (elem.getContext && elem.getContext('2d')) {\n      support = elem.toDataURL('image/webp').indexOf('data:image/webp') === 0;\n    }\n  } catch (err) {\n    support = false;\n  }\n\n  return support;\n}\n\nfunction throttle(action, delay) {\n  let timeout = null;\n  let movement = null;\n  let lastRun = 0;\n  let needRun = false;\n  return function () {\n    needRun = true;\n    if (timeout) {\n      return;\n    }\n    let elapsed = Date.now() - lastRun;\n    let context = this;\n    let args = arguments;\n    let runCallback = function () {\n      lastRun = Date.now();\n      timeout = false;\n      action.apply(context, args);\n    };\n    if (elapsed >= delay) {\n      runCallback();\n    } else {\n      timeout = setTimeout(runCallback, delay);\n    }\n    if (needRun) {\n      clearTimeout(movement);\n      movement = setTimeout(runCallback, 2 * delay);\n    }\n  };\n}\n\nfunction testSupportsPassive() {\n  if (!inBrowser) return;\n  let support = false;\n  try {\n    let opts = Object.defineProperty({}, 'passive', {\n      get: function () {\n        support = true;\n      }\n    });\n    window.addEventListener('test', null, opts);\n  } catch (e) {}\n  return support;\n}\n\nconst supportsPassive = testSupportsPassive();\n\nconst _ = {\n  on(el, type, func, capture = false) {\n    if (supportsPassive) {\n      el.addEventListener(type, func, {\n        capture: capture,\n        passive: true\n      });\n    } else {\n      el.addEventListener(type, func, capture);\n    }\n  },\n  off(el, type, func, capture = false) {\n    el.removeEventListener(type, func, capture);\n  }\n};\n\nconst loadImageAsync = (item, resolve, reject) => {\n  let image = new Image();\n  if (!item || !item.src) {\n    const err = new Error('image src is required');\n    return reject(err);\n  }\n\n  image.src = item.src;\n  if (item.cors) {\n    image.crossOrigin = item.cors;\n  }\n\n  image.onload = function () {\n    resolve({\n      naturalHeight: image.naturalHeight,\n      naturalWidth: image.naturalWidth,\n      src: image.src\n    });\n  };\n\n  image.onerror = function (e) {\n    reject(e);\n  };\n};\n\nconst style = (el, prop) => {\n  return typeof getComputedStyle !== 'undefined' ? getComputedStyle(el, null).getPropertyValue(prop) : el.style[prop];\n};\n\nconst overflow = el => {\n  return style(el, 'overflow') + style(el, 'overflow-y') + style(el, 'overflow-x');\n};\n\nconst scrollParent = el => {\n  if (!inBrowser) return;\n  if (!(el instanceof HTMLElement)) {\n    return window;\n  }\n\n  let parent = el;\n\n  while (parent) {\n    if (parent === document.body || parent === document.documentElement) {\n      break;\n    }\n\n    if (!parent.parentNode) {\n      break;\n    }\n\n    if (/(scroll|auto)/.test(overflow(parent))) {\n      return parent;\n    }\n\n    parent = parent.parentNode;\n  }\n\n  return window;\n};\n\nfunction isObject$1(obj) {\n  return obj !== null && typeof obj === 'object';\n}\n\nfunction ObjectKeys(obj) {\n  if (!(obj instanceof Object)) return [];\n  if (Object.keys) {\n    return Object.keys(obj);\n  } else {\n    let keys = [];\n    for (let key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        keys.push(key);\n      }\n    }\n    return keys;\n  }\n}\n\nfunction ArrayFrom(arrLike) {\n  let len = arrLike.length;\n  const list = [];\n  for (let i = 0; i < len; i++) {\n    list.push(arrLike[i]);\n  }\n  return list;\n}\n\nfunction noop() {}\n\nclass ImageCache {\n  constructor({ max }) {\n    this.options = {\n      max: max || 100\n    };\n    this._caches = [];\n  }\n\n  has(key) {\n    return this._caches.indexOf(key) > -1;\n  }\n\n  add(key) {\n    if (this.has(key)) return;\n    this._caches.push(key);\n    if (this._caches.length > this.options.max) {\n      this.free();\n    }\n  }\n\n  free() {\n    this._caches.shift();\n  }\n}\n\n// el: {\n//     state,\n//     src,\n//     error,\n//     loading\n// }\n\nclass ReactiveListener {\n  constructor({ el, src, error, loading, bindType, $parent, options, cors, elRenderer, imageCache }) {\n    this.el = el;\n    this.src = src;\n    this.error = error;\n    this.loading = loading;\n    this.bindType = bindType;\n    this.attempt = 0;\n    this.cors = cors;\n\n    this.naturalHeight = 0;\n    this.naturalWidth = 0;\n\n    this.options = options;\n\n    this.rect = null;\n\n    this.$parent = $parent;\n    this.elRenderer = elRenderer;\n    this._imageCache = imageCache;\n    this.performanceData = {\n      init: Date.now(),\n      loadStart: 0,\n      loadEnd: 0\n    };\n\n    this.filter();\n    this.initState();\n    this.render('loading', false);\n  }\n\n  /*\n   * init listener state\n   * @return\n   */\n  initState() {\n    if ('dataset' in this.el) {\n      this.el.dataset.src = this.src;\n    } else {\n      this.el.setAttribute('data-src', this.src);\n    }\n\n    this.state = {\n      loading: false,\n      error: false,\n      loaded: false,\n      rendered: false\n    };\n  }\n\n  /*\n   * record performance\n   * @return\n   */\n  record(event) {\n    this.performanceData[event] = Date.now();\n  }\n\n  /*\n   * update image listener data\n   * @param  {String} image uri\n   * @param  {String} loading image uri\n   * @param  {String} error image uri\n   * @return\n   */\n  update({ src, loading, error }) {\n    const oldSrc = this.src;\n    this.src = src;\n    this.loading = loading;\n    this.error = error;\n    this.filter();\n    if (oldSrc !== this.src) {\n      this.attempt = 0;\n      this.initState();\n    }\n  }\n\n  /*\n   * get el node rect\n   * @return\n   */\n  getRect() {\n    this.rect = this.el.getBoundingClientRect();\n  }\n\n  /*\n   *  check el is in view\n   * @return {Boolean} el is in view\n   */\n  checkInView() {\n    this.getRect();\n    return this.rect.top < window.innerHeight * this.options.preLoad && this.rect.bottom > this.options.preLoadTop && this.rect.left < window.innerWidth * this.options.preLoad && this.rect.right > 0;\n  }\n\n  /*\n   * listener filter\n   */\n  filter() {\n    ObjectKeys(this.options.filter).map(key => {\n      this.options.filter[key](this, this.options);\n    });\n  }\n\n  /*\n   * render loading first\n   * @params cb:Function\n   * @return\n   */\n  renderLoading(cb) {\n    this.state.loading = true;\n    loadImageAsync({\n      src: this.loading,\n      cors: this.cors\n    }, data => {\n      this.render('loading', false);\n      this.state.loading = false;\n      cb();\n    }, () => {\n      // handler `loading image` load failed\n      cb();\n      this.state.loading = false;\n      if (!this.options.silent) console.warn(`VueLazyload log: load failed with loading image(${this.loading})`);\n    });\n  }\n\n  /*\n   * try load image and  render it\n   * @return\n   */\n  load(onFinish = noop) {\n    if (this.attempt > this.options.attempt - 1 && this.state.error) {\n      if (!this.options.silent) console.log(`VueLazyload log: ${this.src} tried too more than ${this.options.attempt} times`);\n      onFinish();\n      return;\n    }\n    if (this.state.rendered && this.state.loaded) return;\n    if (this._imageCache.has(this.src)) {\n      this.state.loaded = true;\n      this.render('loaded', true);\n      this.state.rendered = true;\n      return onFinish();\n    }\n\n    this.renderLoading(() => {\n      this.attempt++;\n\n      this.options.adapter['beforeLoad'] && this.options.adapter['beforeLoad'](this, this.options);\n      this.record('loadStart');\n\n      loadImageAsync({\n        src: this.src,\n        cors: this.cors\n      }, data => {\n        this.naturalHeight = data.naturalHeight;\n        this.naturalWidth = data.naturalWidth;\n        this.state.loaded = true;\n        this.state.error = false;\n        this.record('loadEnd');\n        this.render('loaded', false);\n        this.state.rendered = true;\n        this._imageCache.add(this.src);\n        onFinish();\n      }, err => {\n        !this.options.silent && console.error(err);\n        this.state.error = true;\n        this.state.loaded = false;\n        this.render('error', false);\n      });\n    });\n  }\n\n  /*\n   * render image\n   * @param  {String} state to render // ['loading', 'src', 'error']\n   * @param  {String} is form cache\n   * @return\n   */\n  render(state, cache) {\n    this.elRenderer(this, state, cache);\n  }\n\n  /*\n   * output performance data\n   * @return {Object} performance data\n   */\n  performance() {\n    let state = 'loading';\n    let time = 0;\n\n    if (this.state.loaded) {\n      state = 'loaded';\n      time = (this.performanceData.loadEnd - this.performanceData.loadStart) / 1000;\n    }\n\n    if (this.state.error) state = 'error';\n\n    return {\n      src: this.src,\n      state,\n      time\n    };\n  }\n\n  /*\n   * $destroy\n   * @return\n   */\n  $destroy() {\n    this.el = null;\n    this.src = null;\n    this.error = null;\n    this.loading = null;\n    this.bindType = null;\n    this.attempt = 0;\n  }\n}\n\nconst DEFAULT_URL = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\nconst DEFAULT_EVENTS = ['scroll', 'wheel', 'mousewheel', 'resize', 'animationend', 'transitionend', 'touchmove'];\nconst DEFAULT_OBSERVER_OPTIONS = {\n  rootMargin: '0px',\n  threshold: 0\n};\n\nfunction Lazy(Vue) {\n  return class Lazy {\n    constructor({ preLoad, error, throttleWait, preLoadTop, dispatchEvent, loading, attempt, silent = true, scale, listenEvents, hasbind, filter, adapter, observer, observerOptions }) {\n      this.version = '\"1.3.4\"';\n      this.mode = modeType.event;\n      this.ListenerQueue = [];\n      this.TargetIndex = 0;\n      this.TargetQueue = [];\n      this.options = {\n        silent: silent,\n        dispatchEvent: !!dispatchEvent,\n        throttleWait: throttleWait || 200,\n        preLoad: preLoad || 1.3,\n        preLoadTop: preLoadTop || 0,\n        error: error || DEFAULT_URL,\n        loading: loading || DEFAULT_URL,\n        attempt: attempt || 3,\n        scale: scale || getDPR(scale),\n        ListenEvents: listenEvents || DEFAULT_EVENTS,\n        hasbind: false,\n        supportWebp: supportWebp(),\n        filter: filter || {},\n        adapter: adapter || {},\n        observer: !!observer,\n        observerOptions: observerOptions || DEFAULT_OBSERVER_OPTIONS\n      };\n      this._initEvent();\n      this._imageCache = new ImageCache({ max: 200 });\n      this.lazyLoadHandler = throttle(this._lazyLoadHandler.bind(this), this.options.throttleWait);\n\n      this.setMode(this.options.observer ? modeType.observer : modeType.event);\n    }\n\n    /**\n     * update config\n     * @param  {Object} config params\n     * @return\n     */\n    config(options = {}) {\n      assignDeep(this.options, options);\n    }\n\n    /**\n     * output listener's load performance\n     * @return {Array}\n     */\n    performance() {\n      let list = [];\n\n      this.ListenerQueue.map(item => {\n        list.push(item.performance());\n      });\n\n      return list;\n    }\n\n    /*\n     * add lazy component to queue\n     * @param  {Vue} vm lazy component instance\n     * @return\n     */\n    addLazyBox(vm) {\n      this.ListenerQueue.push(vm);\n      if (inBrowser) {\n        this._addListenerTarget(window);\n        this._observer && this._observer.observe(vm.el);\n        if (vm.$el && vm.$el.parentNode) {\n          this._addListenerTarget(vm.$el.parentNode);\n        }\n      }\n    }\n\n    /*\n     * add image listener to queue\n     * @param  {DOM} el\n     * @param  {object} binding vue directive binding\n     * @param  {vnode} vnode vue directive vnode\n     * @return\n     */\n    add(el, binding, vnode) {\n      if (some(this.ListenerQueue, item => item.el === el)) {\n        this.update(el, binding);\n        return Vue.nextTick(this.lazyLoadHandler);\n      }\n\n      let { src, loading, error, cors } = this._valueFormatter(binding.value);\n\n      Vue.nextTick(() => {\n        src = getBestSelectionFromSrcset(el, this.options.scale) || src;\n        this._observer && this._observer.observe(el);\n\n        const container = Object.keys(binding.modifiers)[0];\n        let $parent;\n\n        if (container) {\n          $parent = vnode.context.$refs[container];\n          // if there is container passed in, try ref first, then fallback to getElementById to support the original usage\n          $parent = $parent ? $parent.$el || $parent : document.getElementById(container);\n        }\n\n        if (!$parent) {\n          $parent = scrollParent(el);\n        }\n\n        const newListener = new ReactiveListener({\n          bindType: binding.arg,\n          $parent,\n          el,\n          loading,\n          error,\n          src,\n          cors,\n          elRenderer: this._elRenderer.bind(this),\n          options: this.options,\n          imageCache: this._imageCache\n        });\n\n        this.ListenerQueue.push(newListener);\n\n        if (inBrowser) {\n          this._addListenerTarget(window);\n          this._addListenerTarget($parent);\n        }\n\n        this.lazyLoadHandler();\n        Vue.nextTick(() => this.lazyLoadHandler());\n      });\n    }\n\n    /**\n    * update image src\n    * @param  {DOM} el\n    * @param  {object} vue directive binding\n    * @return\n    */\n    update(el, binding, vnode) {\n      let { src, loading, error } = this._valueFormatter(binding.value);\n      src = getBestSelectionFromSrcset(el, this.options.scale) || src;\n\n      const exist = find(this.ListenerQueue, item => item.el === el);\n      if (!exist) {\n        this.add(el, binding, vnode);\n      } else {\n        exist.update({\n          src,\n          loading,\n          error\n        });\n      }\n      if (this._observer) {\n        this._observer.unobserve(el);\n        this._observer.observe(el);\n      }\n      this.lazyLoadHandler();\n      Vue.nextTick(() => this.lazyLoadHandler());\n    }\n\n    /**\n    * remove listener form list\n    * @param  {DOM} el\n    * @return\n    */\n    remove(el) {\n      if (!el) return;\n      this._observer && this._observer.unobserve(el);\n      const existItem = find(this.ListenerQueue, item => item.el === el);\n      if (existItem) {\n        this._removeListenerTarget(existItem.$parent);\n        this._removeListenerTarget(window);\n        remove(this.ListenerQueue, existItem);\n        existItem.$destroy();\n      }\n    }\n\n    /*\n     * remove lazy components form list\n     * @param  {Vue} vm Vue instance\n     * @return\n     */\n    removeComponent(vm) {\n      if (!vm) return;\n      remove(this.ListenerQueue, vm);\n      this._observer && this._observer.unobserve(vm.el);\n      if (vm.$parent && vm.$el.parentNode) {\n        this._removeListenerTarget(vm.$el.parentNode);\n      }\n      this._removeListenerTarget(window);\n    }\n\n    setMode(mode) {\n      if (!hasIntersectionObserver && mode === modeType.observer) {\n        mode = modeType.event;\n      }\n\n      this.mode = mode; // event or observer\n\n      if (mode === modeType.event) {\n        if (this._observer) {\n          this.ListenerQueue.forEach(listener => {\n            this._observer.unobserve(listener.el);\n          });\n          this._observer = null;\n        }\n\n        this.TargetQueue.forEach(target => {\n          this._initListen(target.el, true);\n        });\n      } else {\n        this.TargetQueue.forEach(target => {\n          this._initListen(target.el, false);\n        });\n        this._initIntersectionObserver();\n      }\n    }\n\n    /*\n    *** Private functions ***\n    */\n\n    /*\n     * add listener target\n     * @param  {DOM} el listener target\n     * @return\n     */\n    _addListenerTarget(el) {\n      if (!el) return;\n      let target = find(this.TargetQueue, target => target.el === el);\n      if (!target) {\n        target = {\n          el: el,\n          id: ++this.TargetIndex,\n          childrenCount: 1,\n          listened: true\n        };\n        this.mode === modeType.event && this._initListen(target.el, true);\n        this.TargetQueue.push(target);\n      } else {\n        target.childrenCount++;\n      }\n      return this.TargetIndex;\n    }\n\n    /*\n     * remove listener target or reduce target childrenCount\n     * @param  {DOM} el or window\n     * @return\n     */\n    _removeListenerTarget(el) {\n      this.TargetQueue.forEach((target, index) => {\n        if (target.el === el) {\n          target.childrenCount--;\n          if (!target.childrenCount) {\n            this._initListen(target.el, false);\n            this.TargetQueue.splice(index, 1);\n            target = null;\n          }\n        }\n      });\n    }\n\n    /*\n     * add or remove eventlistener\n     * @param  {DOM} el DOM or Window\n     * @param  {boolean} start flag\n     * @return\n     */\n    _initListen(el, start) {\n      this.options.ListenEvents.forEach(evt => _[start ? 'on' : 'off'](el, evt, this.lazyLoadHandler));\n    }\n\n    _initEvent() {\n      this.Event = {\n        listeners: {\n          loading: [],\n          loaded: [],\n          error: []\n        }\n      };\n\n      this.$on = (event, func) => {\n        if (!this.Event.listeners[event]) this.Event.listeners[event] = [];\n        this.Event.listeners[event].push(func);\n      };\n\n      this.$once = (event, func) => {\n        const vm = this;\n        function on() {\n          vm.$off(event, on);\n          func.apply(vm, arguments);\n        }\n        this.$on(event, on);\n      };\n\n      this.$off = (event, func) => {\n        if (!func) {\n          if (!this.Event.listeners[event]) return;\n          this.Event.listeners[event].length = 0;\n          return;\n        }\n        remove(this.Event.listeners[event], func);\n      };\n\n      this.$emit = (event, context, inCache) => {\n        if (!this.Event.listeners[event]) return;\n        this.Event.listeners[event].forEach(func => func(context, inCache));\n      };\n    }\n\n    /**\n     * find nodes which in viewport and trigger load\n     * @return\n     */\n    _lazyLoadHandler() {\n      const freeList = [];\n      this.ListenerQueue.forEach((listener, index) => {\n        if (!listener.el || !listener.el.parentNode) {\n          freeList.push(listener);\n        }\n        const catIn = listener.checkInView();\n        if (!catIn) return;\n        listener.load();\n      });\n      freeList.forEach(item => {\n        remove(this.ListenerQueue, item);\n        item.$destroy();\n      });\n    }\n    /**\n    * init IntersectionObserver\n    * set mode to observer\n    * @return\n    */\n    _initIntersectionObserver() {\n      if (!hasIntersectionObserver) return;\n      this._observer = new IntersectionObserver(this._observerHandler.bind(this), this.options.observerOptions);\n      if (this.ListenerQueue.length) {\n        this.ListenerQueue.forEach(listener => {\n          this._observer.observe(listener.el);\n        });\n      }\n    }\n\n    /**\n    * init IntersectionObserver\n    * @return\n    */\n    _observerHandler(entries, observer) {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          this.ListenerQueue.forEach(listener => {\n            if (listener.el === entry.target) {\n              if (listener.state.loaded) return this._observer.unobserve(listener.el);\n              listener.load();\n            }\n          });\n        }\n      });\n    }\n\n    /**\n    * set element attribute with image'url and state\n    * @param  {object} lazyload listener object\n    * @param  {string} state will be rendered\n    * @param  {bool} inCache  is rendered from cache\n    * @return\n    */\n    _elRenderer(listener, state, cache) {\n      if (!listener.el) return;\n      const { el, bindType } = listener;\n\n      let src;\n      switch (state) {\n        case 'loading':\n          src = listener.loading;\n          break;\n        case 'error':\n          src = listener.error;\n          break;\n        default:\n          src = listener.src;\n          break;\n      }\n\n      if (bindType) {\n        el.style[bindType] = 'url(\"' + src + '\")';\n      } else if (el.getAttribute('src') !== src) {\n        el.setAttribute('src', src);\n      }\n\n      el.setAttribute('lazy', state);\n\n      this.$emit(state, listener, cache);\n      this.options.adapter[state] && this.options.adapter[state](listener, this.options);\n\n      if (this.options.dispatchEvent) {\n        const event = new CustomEvent(state, {\n          detail: listener\n        });\n        el.dispatchEvent(event);\n      }\n    }\n\n    /**\n    * generate loading loaded error image url\n    * @param {string} image's src\n    * @return {object} image's loading, loaded, error url\n    */\n    _valueFormatter(value) {\n      let src = value;\n      let loading = this.options.loading;\n      let error = this.options.error;\n\n      // value is object\n      if (isObject$1(value)) {\n        if (!value.src && !this.options.silent) console.error('Vue Lazyload warning: miss src with ' + value);\n        src = value.src;\n        loading = value.loading || this.options.loading;\n        error = value.error || this.options.error;\n      }\n      return {\n        src,\n        loading,\n        error\n      };\n    }\n  };\n}\n\nLazy.install = (Vue, options = {}) => {\n  const LazyClass = Lazy(Vue);\n  const lazy = new LazyClass(options);\n\n  const isVue2 = Vue.version.split('.')[0] === '2';\n  if (isVue2) {\n    Vue.directive('lazy', {\n      bind: lazy.add.bind(lazy),\n      update: lazy.update.bind(lazy),\n      componentUpdated: lazy.lazyLoadHandler.bind(lazy),\n      unbind: lazy.remove.bind(lazy)\n    });\n  } else {\n    Vue.directive('lazy', {\n      bind: lazy.lazyLoadHandler.bind(lazy),\n      update(newValue, oldValue) {\n        assignDeep(this.vm.$refs, this.vm.$els);\n        lazy.add(this.el, {\n          modifiers: this.modifiers || {},\n          arg: this.arg,\n          value: newValue,\n          oldValue: oldValue\n        }, {\n          context: this.vm\n        });\n      },\n      unbind() {\n        lazy.remove(this.el);\n      }\n    });\n  }\n};\n\nconst LazyComponent = lazy => {\n  return {\n    props: {\n      tag: {\n        type: String,\n        default: 'div'\n      }\n    },\n    render(h) {\n      return h(this.tag, null, this.show ? this.$slots.default : null);\n    },\n    data() {\n      return {\n        el: null,\n        state: {\n          loaded: false\n        },\n        rect: {},\n        show: false\n      };\n    },\n    mounted() {\n      this.el = this.$el;\n      lazy.addLazyBox(this);\n      lazy.lazyLoadHandler();\n    },\n    beforeDestroy() {\n      lazy.removeComponent(this);\n    },\n    methods: {\n      getRect() {\n        this.rect = this.$el.getBoundingClientRect();\n      },\n      checkInView() {\n        this.getRect();\n        return inBrowser && this.rect.top < window.innerHeight * lazy.options.preLoad && this.rect.bottom > 0 && this.rect.left < window.innerWidth * lazy.options.preLoad && this.rect.right > 0;\n      },\n      load() {\n        this.show = true;\n        this.state.loaded = true;\n        this.$emit('show', this);\n      },\n      destroy() {\n        return this.$destroy;\n      }\n    }\n  };\n};\n\nLazyComponent.install = function (Vue, options = {}) {\n  const LazyClass = Lazy(Vue);\n  const lazy = new LazyClass(options);\n  Vue.component('lazy-component', LazyComponent(lazy));\n};\n\nclass LazyContainerMananger {\n  constructor({ lazy }) {\n    this.lazy = lazy;\n    lazy.lazyContainerMananger = this;\n    this._queue = [];\n  }\n\n  bind(el, binding, vnode) {\n    const container = new LazyContainer({ el, binding, vnode, lazy: this.lazy });\n    this._queue.push(container);\n  }\n\n  update(el, binding, vnode) {\n    const container = find(this._queue, item => item.el === el);\n    if (!container) return;\n    container.update({ el, binding, vnode });\n  }\n\n  unbind(el, binding, vnode) {\n    const container = find(this._queue, item => item.el === el);\n    if (!container) return;\n    container.clear();\n    remove(this._queue, container);\n  }\n}\n\nconst defaultOptions = {\n  selector: 'img'\n};\n\nclass LazyContainer {\n  constructor({ el, binding, vnode, lazy }) {\n    this.el = null;\n    this.vnode = vnode;\n    this.binding = binding;\n    this.options = {};\n    this.lazy = lazy;\n\n    this._queue = [];\n    this.update({ el, binding });\n  }\n\n  update({ el, binding }) {\n    this.el = el;\n    this.options = assignDeep({}, defaultOptions, binding.value);\n\n    const imgs = this.getImgs();\n    imgs.forEach(el => {\n      this.lazy.add(el, assignDeep({}, this.binding, {\n        value: {\n          src: 'dataset' in el ? el.dataset.src : el.getAttribute('data-src'),\n          error: ('dataset' in el ? el.dataset.error : el.getAttribute('data-error')) || this.options.error,\n          loading: ('dataset' in el ? el.dataset.loading : el.getAttribute('data-loading')) || this.options.loading\n        }\n      }), this.vnode);\n    });\n  }\n\n  getImgs() {\n    return ArrayFrom(this.el.querySelectorAll(this.options.selector));\n  }\n\n  clear() {\n    const imgs = this.getImgs();\n    imgs.forEach(el => this.lazy.remove(el));\n\n    this.vnode = null;\n    this.binding = null;\n    this.lazy = null;\n  }\n}\n\nLazyContainer.install = (Vue, options = {}) => {\n  const LazyClass = Lazy(Vue);\n  const lazy = new LazyClass(options);\n  const lazyContainer = new LazyContainer({ lazy });\n\n  const isVue2 = Vue.version.split('.')[0] === '2';\n  if (isVue2) {\n    Vue.directive('lazy-container', {\n      bind: lazyContainer.bind.bind(lazyContainer),\n      componentUpdated: lazyContainer.update.bind(lazyContainer),\n      unbind: lazyContainer.unbind.bind(lazyContainer)\n    });\n  } else {\n    Vue.directive('lazy-container', {\n      update(newValue, oldValue) {\n        lazyContainer.update(this.el, {\n          modifiers: this.modifiers || {},\n          arg: this.arg,\n          value: newValue,\n          oldValue: oldValue\n        }, {\n          context: this.vm\n        });\n      },\n      unbind() {\n        lazyContainer.unbind(this.el);\n      }\n    });\n  }\n};\n\nconst LazyImage = lazyManager => {\n  return {\n    props: {\n      src: [String, Object],\n      tag: {\n        type: String,\n        default: 'img'\n      }\n    },\n    render(h) {\n      return h(this.tag, {\n        attrs: {\n          src: this.renderSrc\n        }\n      }, this.$slots.default);\n    },\n    data() {\n      return {\n        el: null,\n        options: {\n          src: '',\n          error: '',\n          loading: '',\n          attempt: lazyManager.options.attempt\n        },\n        state: {\n          loaded: false,\n          error: false,\n          attempt: 0\n        },\n        rect: {},\n        renderSrc: ''\n      };\n    },\n    watch: {\n      src() {\n        this.init();\n        lazyManager.addLazyBox(this);\n        lazyManager.lazyLoadHandler();\n      }\n    },\n    created() {\n      this.init();\n      this.renderSrc = this.options.loading;\n    },\n    mounted() {\n      this.el = this.$el;\n      lazyManager.addLazyBox(this);\n      lazyManager.lazyLoadHandler();\n    },\n    beforeDestroy() {\n      lazyManager.removeComponent(this);\n    },\n    methods: {\n      init() {\n        const { src, loading, error } = lazyManager._valueFormatter(this.src);\n        this.state.loaded = false;\n        this.options.src = src;\n        this.options.error = error;\n        this.options.loading = loading;\n        this.renderSrc = this.options.loading;\n      },\n      getRect() {\n        this.rect = this.$el.getBoundingClientRect();\n      },\n      checkInView() {\n        this.getRect();\n        return inBrowser && this.rect.top < window.innerHeight * lazyManager.options.preLoad && this.rect.bottom > 0 && this.rect.left < window.innerWidth * lazyManager.options.preLoad && this.rect.right > 0;\n      },\n      load(onFinish = noop) {\n        if (this.state.attempt > this.options.attempt - 1 && this.state.error) {\n          if (!lazyManager.options.silent) console.log(`VueLazyload log: ${this.options.src} tried too more than ${this.options.attempt} times`);\n          onFinish();\n          return;\n        }\n        const src = this.options.src;\n        loadImageAsync({ src }, ({ src }) => {\n          this.renderSrc = src;\n          this.state.loaded = true;\n        }, e => {\n          this.state.attempt++;\n          this.renderSrc = this.options.error;\n          this.state.error = true;\n        });\n      }\n    }\n  };\n};\n\nLazyImage.install = (Vue, options = {}) => {\n  const LazyClass = Lazy(Vue);\n  const lazy = new LazyClass(options);\n  Vue.component('lazy-image', LazyImage(lazy));\n};\n\nvar index = {\n  /*\n  * install function\n  * @param  {Vue} Vue\n  * @param  {object} options  lazyload options\n  */\n  install(Vue, options = {}) {\n    const LazyClass = Lazy(Vue);\n    const lazy = new LazyClass(options);\n    const lazyContainer = new LazyContainerMananger({ lazy });\n\n    const isVue2 = Vue.version.split('.')[0] === '2';\n\n    Vue.prototype.$Lazyload = lazy;\n\n    if (options.lazyComponent) {\n      Vue.component('lazy-component', LazyComponent(lazy));\n    }\n\n    if (options.lazyImage) {\n      Vue.component('lazy-image', LazyImage(lazy));\n    }\n\n    if (isVue2) {\n      Vue.directive('lazy', {\n        bind: lazy.add.bind(lazy),\n        update: lazy.update.bind(lazy),\n        componentUpdated: lazy.lazyLoadHandler.bind(lazy),\n        unbind: lazy.remove.bind(lazy)\n      });\n      Vue.directive('lazy-container', {\n        bind: lazyContainer.bind.bind(lazyContainer),\n        componentUpdated: lazyContainer.update.bind(lazyContainer),\n        unbind: lazyContainer.unbind.bind(lazyContainer)\n      });\n    } else {\n      Vue.directive('lazy', {\n        bind: lazy.lazyLoadHandler.bind(lazy),\n        update(newValue, oldValue) {\n          assignDeep(this.vm.$refs, this.vm.$els);\n          lazy.add(this.el, {\n            modifiers: this.modifiers || {},\n            arg: this.arg,\n            value: newValue,\n            oldValue: oldValue\n          }, {\n            context: this.vm\n          });\n        },\n        unbind() {\n          lazy.remove(this.el);\n        }\n      });\n\n      Vue.directive('lazy-container', {\n        update(newValue, oldValue) {\n          lazyContainer.update(this.el, {\n            modifiers: this.modifiers || {},\n            arg: this.arg,\n            value: newValue,\n            oldValue: oldValue\n          }, {\n            context: this.vm\n          });\n        },\n        unbind() {\n          lazyContainer.unbind(this.el);\n        }\n      });\n    }\n  }\n};\n\nexport default index;\nexport { Lazy, LazyComponent, LazyContainerMananger as LazyContainer, LazyImage };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}